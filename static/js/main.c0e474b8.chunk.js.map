{"version":3,"sources":["fbase.js","components/Profile/EditProfile.js","components/Profile/ProfileTop.js","components/Profile/GetMyNweets.js","components/Profile/LikeNweet.js","components/Profile/ProfileBot.js","routes/Profile.js","components/Nweets/NweetEdit.js","components/Nweets/Nweet.js","components/Nweets/NweetFactory.js","routes/Home.js","components/Auth/AuthForm.js","components/Auth/SocialLinks.js","routes/Auth.js","components/CreateAccount.js","components/Footer.js","routes/FirstScreen.js","routes/Navigation.js","routes/Aside.js","routes/Verified.js","components/SearchNweet.js","routes/Search.js","components/Router.js","components/GlobalStyle.js","components/App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","fireBaseInstance","authService","auth","dbService","firestore","storageService","storage","dbStore","EditProfile","userObj","refreshUser","setEdit","useState","displayName","newDisplayName","setNewDisplayName","newStateMsg","setNewStateMsg","profileImg","setProfileImg","backgroundImg","setBackgroundImg","newProfile","setNewProfile","newBack","setNewBack","useEffect","onNickNameSubmit","event","a","userRef","collection","where","uid","get","then","querySnapshot","forEach","doc","id","update","updateProfile","onProfileImgSubmit","imgUrl","imgRef","ref","child","putString","response","getDownloadURL","profile","catch","error","console","log","photoURL","onBackImgSubmit","background","onProfileSaveClick","className","onClick","viewBox","d","src","alt","type","accept","onChange","theFile","target","files","reader","FileReader","onloadend","finishedEvent","result","currentTarget","readAsDataURL","value","ProfileTop","clickOn","setClickON","edit","backImg","setBackImg","editing","useRef","onSnapshot","snapshot","data","handleClickOutside","current","contains","document","addEventListener","removeEventListener","creationTime","prev","GetMyNweets","myNweet","setEditing","userId","setUserId","menuOn","setMenuOn","time","setTime","tt","now","Date","getTime","second","Math","floor","createdAt","userEmail","split","onDeleteClick","window","confirm","delete","attachmentUrl","refFromURL","onLikeBtnClick","reNweet","includes","currentUser","like","FieldValue","arrayRemove","arrayUnion","onReNweetBtnClick","onFollowBtnClick","isFollowing","following","createrId","follower","alert","text","length","LikeNweet","likeNweet","setTt","ProfileBot","myNweets","setMyNweets","likeNweets","setLikeNweets","orderBy","limit","nweetsMap","docs","map","Profile","NweetEdit","nweetObj","newNweet","setNewNweet","onSubmit","preventDefault","placeholder","maxLength","required","Nweet","isOwner","followOnly","toggleEditing","onMenuClick","NweetFactory","nweet","setNweet","attachment","setAttachment","nweetTyped","setNweetTyped","fileInput","nweetText","MutationObserver","mutationList","observer","innerText","observe","characterData","childList","subtree","date","attachmentRef","uuidv4","getFullYear","getMonth","getDay","getHours","getMinutes","email","add","role","contentEditable","suppressContentEditableWarning","htmlFor","cx","cy","r","Home","nweets","setNweets","followMenu","setFollowMenu","setFollowOnly","followMenuWrapper","topCoord","nweetInfoObj","followMenuOff","body","scrollIntoView","a_nweet","AuthForm","loginEmail","setLoginEmail","loginPassword","setLoginPassword","history","useHistory","name","signInWithEmailAndPassword","push","message","autoComplete","SocialLinks","onSocialClick","provider","GoogleAuthProvider","setCustomParameters","prompt","GithubAuthProvider","signInWithPopup","user","additionalUserInfo","isNewUser","userInfo","userInfoRef","set","Auth","CreateAccount","setSignUp","registerEmail","setRegisterEmail","registerPassword","setRegisterPassword","createUserWithEmailAndPassword","profileUrl","storageRef","e","languageCode","location","replace","Footer","FirstScreen","signUp","signUpPage","Navigation","navIcon","emailToNickname","to","style","fill","signOut","Aside","searchValue","setSearchValue","searchClicked","setSearchClicked","notLocal","setNotLocal","labelStyleRecover","label","searchIcon","localStorage","getItem","setItem","Verified","setNotWatching","removeItem","close","SearchNweet","Search","searchWordRef","AppRouter","isLoggedIn","verifying","setVeyrifying","notWatching","emailsended","JSON","parse","undefined","exact","path","from","GlobalStyle","createGlobalStyle","reset","App","init","setInit","setUserObj","onAuthStateChanged","metadata","args","Boolean","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c0e474b8.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\r\n    appId: process.env.REACT_APP_APP_ID\r\n  };\r\n  \r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const fireBaseInstance = firebase;\r\n\r\n// firebase의 모든것을 호출하는 대신 부분기능만 내보냄.\r\nexport const authService = firebase.auth();\r\nexport const dbService = firebase.firestore();\r\nexport const storageService = firebase.storage();\r\nexport const dbStore = firebase.firestore;","import React, { useEffect, useState } from \"react\";\r\nimport \"./EditProfile.css\"\r\nimport { dbService, storageService } from \"fbase\";\r\n\r\nconst EditProfile = ({ userObj, refreshUser, setEdit }) => {\r\n    const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\r\n    const [newStateMsg, setNewStateMsg] = useState(\"\");\r\n    const [profileImg, setProfileImg] = useState(\"\");\r\n    const [backgroundImg, setBackgroundImg] = useState(\"\");\r\n    const [newProfile, setNewProfile] = useState(false);\r\n    const [newBack, setNewBack] = useState(false);\r\n    useEffect(() => {\r\n      return () => setEdit(false);\r\n    }, [])\r\n    const onNickNameChange = (event) =>{\r\n        const {target: {value}} = event;\r\n        setNewDisplayName(value);\r\n    }\r\n    const onStateMsgChange = (event) => {\r\n      const {target: {value}} = event;\r\n      setNewStateMsg(value);\r\n    }\r\n    const onNickNameSubmit = async (event) => {\r\n        if(userObj.displayName !== newDisplayName){\r\n            const userRef = dbService.collection(\"nweets\");\r\n            const query = userRef.where(\"createrId\", \"==\", `${userObj.uid}`);\r\n            query.get()\r\n            .then((querySnapshot) => {\r\n                querySnapshot.forEach((doc) => {\r\n                    userRef.doc(doc.id).update({\r\n                    displayName: newDisplayName\r\n                    })\r\n                });\r\n            })\r\n            await userObj.updateProfile({\r\n                displayName: newDisplayName,\r\n            })\r\n            refreshUser();\r\n        }\r\n    };\r\n    const onProfileImgSubmit = async (event) => {\r\n        let imgUrl = \"\";\r\n        if(profileImg !== \"\"){\r\n            const imgRef = storageService.ref().child(`${userObj.uid}/profile_img/1`);\r\n            const response = await imgRef.putString(profileImg, \"data_url\");\r\n            imgUrl = await response.ref.getDownloadURL();\r\n            const userRef = dbService.collection(\"nweets\");\r\n            const query = userRef.where(\"createrId\", \"==\", `${userObj.uid}`);\r\n            query.get()\r\n            .then((querySnapshot) => {\r\n                querySnapshot.forEach((doc) => {\r\n                    userRef.doc(doc.id).update({\r\n                    profile: imgUrl\r\n                    })\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                console.log(\"Error getting documents: \", error);\r\n            });\r\n        }\r\n        await userObj.updateProfile({\r\n            photoURL: imgUrl\r\n        })\r\n        setProfileImg(\"\");\r\n        refreshUser();\r\n    };\r\n    const onBackImgSubmit = async() => {\r\n        let imgUrl = \"\";\r\n        if(backgroundImg !== \"\"){\r\n            const imgRef = storageService.ref().child(`${userObj.uid}/background_img/1`);\r\n            const response = await imgRef.putString(backgroundImg, \"data_url\");\r\n            imgUrl = await response.ref.getDownloadURL();\r\n            const userRef = dbService.collection(\"userInfo\");\r\n            const query = userRef.doc(`${userObj.uid}`);\r\n            query.update({\r\n              background: imgUrl\r\n            })\r\n        }\r\n    }\r\n    const onStateMsgSubmit = () => {\r\n      console.log(\"상태메세지 변경!\");\r\n    }\r\n    const onProfileImgChange = (event) => {\r\n      const {target:{files}} = event;\r\n      const theFile = files[0];\r\n      const reader = new FileReader();\r\n      reader.onloadend = (finishedEvent) => {\r\n          const {currentTarget:{result}} = finishedEvent;\r\n          setProfileImg(result);\r\n      };\r\n      setNewProfile(true);\r\n      if(theFile){\r\n          reader.readAsDataURL(theFile);\r\n      }\r\n  };\r\n  const onBackImgChange = (event) => {\r\n    const {target:{files}} = event;\r\n    const theFile = files[0];\r\n    const reader = new FileReader();\r\n    reader.onloadend = (finishedEvent) => {\r\n        const {currentTarget:{result}} = finishedEvent;\r\n        setBackgroundImg(result);\r\n    };\r\n    setNewBack(true);\r\n    if(theFile){\r\n        reader.readAsDataURL(theFile);\r\n    }\r\n  };\r\n    const onProfileCloseClick = () => {\r\n        setEdit(false);\r\n    }\r\n    const onProfileSaveClick = async () => {\r\n      await onNickNameSubmit();\r\n      await onProfileImgSubmit();\r\n      await onBackImgSubmit();\r\n      onStateMsgSubmit();\r\n      setEdit(false);\r\n    }\r\n    return(\r\n        <>\r\n        <div className=\"edit_profile_menu_wrapper\">\r\n          <div className=\"edit_profile_menu_left\">\r\n              <svg onClick={onProfileCloseClick}\r\n              className=\"edit_profile_Xicon\" viewBox=\"0 0 20 20\">\r\n\t\t\t\t\t\t\t  <path d=\"M15.898,4.045c-0.271-0.272-0.713-0.272-0.986,0l-4.71,4.711L5.493,4.045c-0.272-0.272-0.714-0.272-0.986,0s-0.272,0.714,0,0.986l4.709,4.711l-4.71,4.711c-0.272,0.271-0.272,0.713,0,0.986c0.136,0.136,0.314,0.203,0.492,0.203c0.179,0,0.357-0.067,0.493-0.203l4.711-4.711l4.71,4.711c0.137,0.136,0.314,0.203,0.494,0.203c0.178,0,0.355-0.067,0.492-0.203c0.273-0.273,0.273-0.715,0-0.986l-4.711-4.711l4.711-4.711C16.172,4.759,16.172,4.317,15.898,4.045z\"></path>\r\n\t\t\t\t\t\t  </svg>\r\n            <span>프로필 수정</span>\r\n          </div>\r\n          <div className=\"edit_profile_menu_right\">\r\n            <span onClick={onProfileSaveClick}> 저장 </span>\r\n           </div>\r\n        </div>\r\n        <div className=\"edit_profile_content\">\r\n            <div className=\"edit_profile_top_wrapper\">\r\n                <div className=\"edit_profile_top_top\">\r\n                  <div className=\"edit_profile_img_wrapper\">\r\n                  {newBack ? <img className=\"edit_profile_background_img\" src={backgroundImg} alt=\"back\"/> : null}\r\n                    <label className=\"edit_profile_background_label\">\r\n                      <svg className=\"edit_profile_camera_icon\"\r\n                      viewBox=\"0 0 20 20\">\r\n                        <path d=\"M9.999,8.472c-1.314,0-2.385,1.069-2.385,2.384c0,1.317,1.07,2.385,2.385,2.385c1.316,0,2.386-1.068,2.386-2.385C12.385,9.541,11.314,8.472,9.999,8.472z M9.999,12.238c-0.76,0-1.38-0.622-1.38-1.382c0-0.761,0.62-1.38,1.38-1.38c0.761,0,1.38,0.62,1.38,1.38C11.379,11.616,10.76,12.238,9.999,12.238z\"></path>\r\n                        <path d=\"M15.232,5.375H9.398C9.159,4.366,8.247,3.61,7.174,3.61c-1.073,0-1.985,0.756-2.224,1.765H4.769c-1.246,0-2.259,1.012-2.259,2.257v6.499c0,1.247,1.014,2.259,2.259,2.259h10.464c1.244,0,2.258-1.012,2.258-2.259V7.632C17.49,6.387,16.477,5.375,15.232,5.375z M16.486,14.131c0,0.69-0.564,1.256-1.254,1.256H4.769c-0.692,0-1.256-0.565-1.256-1.256V7.632c0-0.691,0.563-1.254,1.256-1.254H5.39c0.275,0,0.499-0.221,0.502-0.495c0.01-0.7,0.585-1.269,1.282-1.269s1.272,0.569,1.282,1.269c0.003,0.274,0.228,0.495,0.502,0.495h6.275c0.689,0,1.254,0.563,1.254,1.254V14.131z\"></path>\r\n                      </svg>\r\n                      <input\r\n                        className=\"hidden\"\r\n                        type=\"file\"\r\n                        accept=\"image/*\" \r\n                        onChange={onBackImgChange}\r\n                        />\r\n                    </label>\r\n                      <div className=\"edit_profile_img\">\r\n                        <div className=\"edit_profile_img_circle\">\r\n                          <img src={newProfile ? profileImg : userObj.photoURL} alt=\"profile\"/>\r\n                          <label className=\"edit_profile_img_label\">\r\n                            <svg className=\"edit_profile_camera_icon\"\r\n                            viewBox=\"0 0 20 20\">\r\n                              <path d=\"M9.999,8.472c-1.314,0-2.385,1.069-2.385,2.384c0,1.317,1.07,2.385,2.385,2.385c1.316,0,2.386-1.068,2.386-2.385C12.385,9.541,11.314,8.472,9.999,8.472z M9.999,12.238c-0.76,0-1.38-0.622-1.38-1.382c0-0.761,0.62-1.38,1.38-1.38c0.761,0,1.38,0.62,1.38,1.38C11.379,11.616,10.76,12.238,9.999,12.238z\"></path>\r\n                              <path d=\"M15.232,5.375H9.398C9.159,4.366,8.247,3.61,7.174,3.61c-1.073,0-1.985,0.756-2.224,1.765H4.769c-1.246,0-2.259,1.012-2.259,2.257v6.499c0,1.247,1.014,2.259,2.259,2.259h10.464c1.244,0,2.258-1.012,2.258-2.259V7.632C17.49,6.387,16.477,5.375,15.232,5.375z M16.486,14.131c0,0.69-0.564,1.256-1.254,1.256H4.769c-0.692,0-1.256-0.565-1.256-1.256V7.632c0-0.691,0.563-1.254,1.256-1.254H5.39c0.275,0,0.499-0.221,0.502-0.495c0.01-0.7,0.585-1.269,1.282-1.269s1.272,0.569,1.282,1.269c0.003,0.274,0.228,0.495,0.502,0.495h6.275c0.689,0,1.254,0.563,1.254,1.254V14.131z\"></path>\r\n                            </svg>\r\n                            <input\r\n                            className=\"hidden\"\r\n                            type=\"file\"\r\n                            accept=\"image/*\" \r\n                            onChange={onProfileImgChange}\r\n                              />\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"edit_profile_top_bot\">\r\n                </div>\r\n            </div>\r\n            <div className=\"edit_profile_bottom_wrapper\">\r\n              <div className=\"edit_profile_nickname_wrapper\">\r\n                <div className=\"edit_profile_nickname\">\r\n                  <span>이름</span>\r\n                  <input onChange={onNickNameChange} type=\"text\" value={newDisplayName} />\r\n                </div>\r\n              </div>\r\n              <div className=\"edit_profile_state_msg_wrapper\">\r\n                <div className=\"edit_profile_state_msg\">\r\n                  <span>상태 메세지(구현중)</span>\r\n                  <textarea onChange={onStateMsgChange} type=\"text\" value={newStateMsg} />\r\n                </div>\r\n              </div>\r\n              테스트용\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              테스트용\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              테스트용\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              테스트용\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              테스트용\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              테스트용\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n            </div>\r\n        </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default EditProfile;","import { dbService } from \"fbase\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport EditProfile from \"./EditProfile\";\r\n\r\nconst ProfileTop = ({ userObj, refreshUser, clickOn, setClickON }) => {\r\n    const [edit, setEdit] = useState(false);\r\n    const [backImg, setBackImg] = useState(\"\");\r\n    const editing = useRef();\r\n    const onClick = () => {\r\n        setEdit(true);\r\n    }\r\n    const onLikeListClikc = () => {\r\n      setClickON(prev => !prev);\r\n    }\r\n    useEffect(() => {\r\n      dbService.collection(\"userInfo\").doc(`${userObj.uid}`).onSnapshot((snapshot) => {\r\n        const { background } = snapshot.data();\r\n        if(background){\r\n          setBackImg(background);\r\n        }\r\n      })\r\n        const handleClickOutside = (event) => {\r\n            if(edit && !editing.current.contains(event.target)){\r\n                setEdit(false);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handleClickOutside)\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleClickOutside)\r\n        }\r\n    }, [edit, userObj]);\r\n    return(\r\n        <div className=\"profile_top\">\r\n            <div className=\"profile_top_top\">\r\n                {edit &&\r\n                <div className=\"edit_profile_modal_wrapper\">\r\n                    <div className=\"edit_profile_modal\" ref={editing}>\r\n                        <EditProfile userObj={userObj} refreshUser={refreshUser} setEdit={setEdit}/>\r\n                    </div>\r\n                </div>\r\n                }\r\n                <div className=\"profile_img_wrapper1\">\r\n                    <div className=\"profile_img_wrapper\">\r\n                        <div className=\"profile_img_circle\">\r\n                            <img src={userObj.photoURL} alt=\"profile_image\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"profile_background_img\">\r\n                        {backImg ? <img src={backImg} alt=\"backImg\"/> : null}\r\n                    </div>\r\n                </div>\r\n        </div>\r\n            <div className=\"profile_top_bottom\">\r\n                <div className=\"profile_edit_wrapper\">\r\n                    <div className=\"profile_edit\">\r\n                        <span onClick={onClick}>프로필 수정</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"profile_info_name\">\r\n                    <span>{userObj.displayName}</span>\r\n                </div>\r\n                <div className=\"profile_info_state\">\r\n                    <span>상태메세지:</span>\r\n                </div>\r\n                <div className=\"profile_info_creationtime\">\r\n                    <span>{userObj.creationTime}</span>\r\n                </div>\r\n                <div onClick={onLikeListClikc} className=\"profile_menu_bar\">\r\n                  <span className={!clickOn ? \"click_on\" : \"click_off\"}>내가 한 트윗</span> \r\n                  <span className={clickOn ? \"click_on\" : \"click_off\"}>마음에 들어요</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default ProfileTop;","import { authService, dbService, dbStore, storageService } from \"fbase\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nconst GetMyNweets = ({ userObj, myNweet }) => {\r\n  const [editing, setEditing] = useState(false);\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [menuOn, setMenuOn] = useState(false);\r\n  const [time, setTime] = useState(\"\");\r\n  const [tt, setTt] = useState(false);\r\n  useEffect(() => {\r\n    let now = new Date().getTime();\r\n    let second = Math.floor((now - myNweet.createdAt[0])/1000);\r\n    if(second>2592000) {\r\n        setTime(`${Math.floor(second/2592000)}달 전`)\r\n    } else if(second>604800) {\r\n        setTime(`${Math.floor(second/604800)}주 전`)\r\n    } else if(second>86400) {\r\n        setTime(`${Math.floor(second/86400)}일 전`)\r\n    } else if(second>3600) {\r\n        setTime(`${Math.floor(second/3600)}시간 전`)\r\n    } else if(second>60) {\r\n        setTime(`${Math.floor(second/60)}분`)\r\n    } else if(second === 0) {\r\n        setTime(`따끈따끈`)\r\n    } else if(60>=second) {\r\n        setTime(`${second}초 전`)\r\n    }\r\n    const userId = myNweet.userEmail.split(\"@\");\r\n    setUserId(userId);\r\n  }, [myNweet]);\r\n  const onMenuClick = () => {\r\n    setMenuOn(prev => !prev);\r\n  };\r\n  const onDeleteClick = async () => {\r\n    const ok = window.confirm(\"Are you sure you want to delete this nweet?\");\r\n    if(ok) {\r\n      await dbService.doc(`nweets/${myNweet.id}`).delete();\r\n      if(myNweet.attachmentUrl !== \"\") {\r\n        await storageService.refFromURL(myNweet.attachmentUrl).delete();\r\n      }\r\n    }\r\n  };\r\n  const onLikeBtnClick = async () => {\r\n    if(myNweet.reNweet.includes(authService.currentUser.uid, 0)) {\r\n        await dbService.doc(`nweets/${myNweet.id}`).update({\r\n        like: dbStore.FieldValue.arrayRemove(`${authService.currentUser.uid}`)\r\n        })\r\n        return;\r\n    }\r\n    await dbService.doc(`nweets/${myNweet.id}`).update({\r\n        like: dbStore.FieldValue.arrayUnion(`${authService.currentUser.uid}`)\r\n    })\r\n};\r\nconst onReNweetBtnClick = async () => {\r\n    if(myNweet.reNweet.includes(authService.currentUser.uid, 0)) {\r\n        await dbService.doc(`nweets/${myNweet.id}`).update({\r\n        reNweet: dbStore.FieldValue.arrayRemove(`${authService.currentUser.uid}`)\r\n        })\r\n        return;\r\n    }\r\n    await dbService.doc(`nweets/${myNweet.id}`).update({\r\n        reNweet: dbStore.FieldValue.arrayUnion(`${authService.currentUser.uid}`)\r\n    })\r\n};\r\nconst onFollowBtnClick = async () => {\r\n    const followingRef = dbService.doc(`userInfo/${userObj.uid}`);\r\n    followingRef.get()\r\n    .then(async (doc) => {\r\n        const isFollowing = doc.data().following;\r\n        if(!isFollowing.includes(myNweet.createrId, 0)){\r\n            await dbService.doc(`userInfo/${userObj.uid}`).update({\r\n                following: dbStore.FieldValue.arrayUnion(`${myNweet.createrId}`)\r\n            })\r\n            await dbService.doc(`userInfo/${myNweet.createrId}`).update({\r\n                follower: dbStore.FieldValue.arrayUnion(`${userObj.uid}`)\r\n            })\r\n            alert(\"팔로우 성공!\");\r\n        }\r\n        if(isFollowing.includes(myNweet.createrId, 0)){\r\n            await dbService.doc(`userInfo/${userObj.uid}`).update({\r\n                following: dbStore.FieldValue.arrayRemove (`${myNweet.createrId}`)\r\n            })\r\n            await dbService.doc(`userInfo/${myNweet.createrId}`).update({\r\n                follower: dbStore.FieldValue.arrayRemove(`${userObj.uid}`)\r\n            })\r\n            alert(\"팔로우 해제!\");\r\n        }\r\n    });\r\n  };\r\n  const toggleEditing = () => setEditing(prev => !prev);\r\n  return(\r\n  <div className=\"nweet_wrapper\">\r\n    <div className=\"nweet\">\r\n      <div className=\"nweet_left\">\r\n          <img src={myNweet.profile} alt=\"img\" />\r\n      </div>\r\n      <div className=\"nweet_right\">\r\n        <div className=\"nweet_right_top\">\r\n          <div className=\"nweet_info\">\r\n            <span className=\"nweet_info_displayName\">나</span>\r\n            <span className=\"nweet_info_userId\">{userId[0]}</span>\r\n            <span className=\"block\">·</span>\r\n            <span className=\"nweet_info_timeAgo\">{time}</span>\r\n          </div>\r\n          <div className=\"nweet_menu_wrapper\">\r\n            <button className=\"nweet_menu\" onClick={onMenuClick}>메뉴</button>\r\n            { menuOn && (\r\n            <>\r\n            <div className=\"nweet_drop_down\">\r\n              <div className=\"nweet_drop_menu\" onClick={onDeleteClick}>\r\n                <span className=\"nweet_delete_nweet\">이 트윗 지우기</span>\r\n              </div>\r\n              <div className=\"nweet_drop_menu\" onClick={toggleEditing}>\r\n                <span className=\"nweet_edit_nweet\">이 트윗 수정하기</span>\r\n              </div>\r\n            </div>\r\n            </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"nweet_right_center\">\r\n          <h4 className=\"nweet_content\">{myNweet.text}</h4>\r\n          {myNweet.attachmentUrl && (\r\n            <div className=\"nweet_content_img_wrapper\">\r\n                <img src={myNweet.attachmentUrl} alt=\"img\" />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"nweet_right_bottom\">\r\n          <div className=\"nweet_right_bottom_like\" onClick={onLikeBtnClick}>\r\n            <svg viewBox=\"0 0 24 24\" \r\n            aria-hidden=\"true\" >\r\n              <g>\r\n                <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\">\r\n                </path>\r\n              </g>\r\n            </svg>\r\n            <span>{myNweet.like.length}</span>\r\n          </div>\r\n          <div className=\"nweet_right_bottom_reNweet\" onClick={onReNweetBtnClick}>\r\n            <svg viewBox=\"0 0 24 24\" \r\n            aria-hidden=\"true\" >\r\n              <g>\r\n                <path d=\"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z\">\r\n                </path>\r\n              </g>\r\n            </svg>\r\n            <span>{myNweet.reNweet.length}</span>\r\n          </div>\r\n          <div className=\"nweet_right_bottom_follow\" onClick={onFollowBtnClick}>\r\n            <svg viewBox=\"0 0 20 20\">\r\n              <path d=\"M18.258,3.266c-0.693,0.405-1.46,0.698-2.277,0.857c-0.653-0.686-1.586-1.115-2.618-1.115c-1.98,0-3.586,1.581-3.586,3.53c0,0.276,0.031,0.545,0.092,0.805C6.888,7.195,4.245,5.79,2.476,3.654C2.167,4.176,1.99,4.781,1.99,5.429c0,1.224,0.633,2.305,1.596,2.938C2.999,8.349,2.445,8.19,1.961,7.925C1.96,7.94,1.96,7.954,1.96,7.97c0,1.71,1.237,3.138,2.877,3.462c-0.301,0.08-0.617,0.123-0.945,0.123c-0.23,0-0.456-0.021-0.674-0.062c0.456,1.402,1.781,2.422,3.35,2.451c-1.228,0.947-2.773,1.512-4.454,1.512c-0.291,0-0.575-0.016-0.855-0.049c1.588,1,3.473,1.586,5.498,1.586c6.598,0,10.205-5.379,10.205-10.045c0-0.153-0.003-0.305-0.01-0.456c0.7-0.499,1.308-1.12,1.789-1.827c-0.644,0.28-1.334,0.469-2.06,0.555C17.422,4.782,17.99,4.091,18.258,3.266\">\r\n              </path>\r\n            </svg>\r\n            {tt ? (\r\n              <span>-</span>\r\n              ) : (\r\n              <span>+</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n    );\r\n};\r\n\r\nexport default GetMyNweets;\r\n","import { authService, dbService, dbStore } from \"fbase\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nconst LikeNweet = ({ likeNweet, userObj}) => {\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [menuOn, setMenuOn] = useState(false);\r\n  const [time, setTime] = useState(\"\");\r\n  const [tt, setTt] = useState(false);\r\n  useEffect(() => {\r\n        let now = new Date().getTime();\r\n        let second = Math.floor((now - likeNweet.createdAt[0])/1000);\r\n        if(second>2592000) {\r\n            setTime(`${Math.floor(second/2592000)}달 전`)\r\n        } else if(second>604800) {\r\n            setTime(`${Math.floor(second/604800)}주 전`)\r\n        } else if(second>86400) {\r\n            setTime(`${Math.floor(second/86400)}일 전`)\r\n        } else if(second>3600) {\r\n            setTime(`${Math.floor(second/3600)}시간 전`)\r\n        } else if(second>60) {\r\n            setTime(`${Math.floor(second/60)}분`)\r\n        } else if(second === 0) {\r\n            setTime(`따끈따끈`)\r\n        } else if(60>=second) {\r\n            setTime(`${second}초 전`)\r\n        }\r\n        const userId = likeNweet.userEmail.split(\"@\");\r\n        setUserId(userId);\r\n        const followingRef = dbService.doc(`userInfo/${userObj.uid}`);\r\n        followingRef.get()\r\n        .then(async (doc) => {\r\n            const isFollowing = doc.data().following;\r\n            if(isFollowing.includes(likeNweet.createrId, 0)){\r\n                setTt(true)\r\n                }\r\n            }\r\n        )\r\n  }, [likeNweet, userObj]);\r\nconst onLikeBtnClick = async () => {\r\n    if(likeNweet.reNweet.includes(authService.currentUser.uid, 0)) {\r\n        await dbService.doc(`nweets/${likeNweet.id}`).update({\r\n        like: dbStore.FieldValue.arrayRemove(`${authService.currentUser.uid}`)\r\n        })\r\n        return;\r\n    }\r\n    await dbService.doc(`nweets/${likeNweet.id}`).update({\r\n        like: dbStore.FieldValue.arrayUnion(`${authService.currentUser.uid}`)\r\n    })\r\n};\r\nconst onReNweetBtnClick = async () => {\r\n    if(likeNweet.reNweet.includes(authService.currentUser.uid, 0)) {\r\n        await dbService.doc(`nweets/${likeNweet.id}`).update({\r\n        reNweet: dbStore.FieldValue.arrayRemove(`${authService.currentUser.uid}`)\r\n        })\r\n        return;\r\n    }\r\n    await dbService.doc(`nweets/${likeNweet.id}`).update({\r\n        reNweet: dbStore.FieldValue.arrayUnion(`${authService.currentUser.uid}`)\r\n    })\r\n};\r\nconst onFollowBtnClick = async () => {\r\n    const followingRef = dbService.doc(`userInfo/${userObj.uid}`);\r\n    followingRef.get()\r\n    .then(async (doc) => {\r\n        const isFollowing = doc.data().following;\r\n        if(!isFollowing.includes(likeNweet.createrId, 0)){\r\n            await dbService.doc(`userInfo/${userObj.uid}`).update({\r\n                following: dbStore.FieldValue.arrayUnion(`${likeNweet.createrId}`)\r\n            })\r\n            await dbService.doc(`userInfo/${likeNweet.createrId}`).update({\r\n                follower: dbStore.FieldValue.arrayUnion(`${userObj.uid}`)\r\n            })\r\n            alert(\"팔로우 성공!\");\r\n        }\r\n        if(isFollowing.includes(likeNweet.createrId, 0)){\r\n            await dbService.doc(`userInfo/${userObj.uid}`).update({\r\n                following: dbStore.FieldValue.arrayRemove (`${likeNweet.createrId}`)\r\n            })\r\n            await dbService.doc(`userInfo/${likeNweet.createrId}`).update({\r\n                follower: dbStore.FieldValue.arrayRemove(`${userObj.uid}`)\r\n            })\r\n            alert(\"팔로우 해제!\");\r\n        }\r\n    });\r\n};\r\n  const onMenuClick = () => {\r\n    setMenuOn(prev => !prev);\r\n  };\r\n  return(\r\n     <div className=\"nweet_wrapper\">\r\n        <div className=\"nweet\">\r\n          <div className=\"nweet_left\">\r\n            <img src={likeNweet.profile} alt=\"img\" />\r\n          </div>\r\n          <div className=\"nweet_right\">\r\n            <div className=\"nweet_right_top\">\r\n              <div className=\"nweet_info\">\r\n                <span className=\"nweet_info_displayName\">{likeNweet.displayName}</span>\r\n                <span className=\"nweet_info_userId\">{userId[0]}</span>\r\n                <span className=\"block\">·</span>\r\n                <span className=\"nweet_info_timeAgo\">{time}</span>\r\n              </div>\r\n              <div className=\"nweet_menu_wrapper\">\r\n                <button className=\"nweet_menu\" onClick={onMenuClick}>메뉴</button>\r\n                {\r\n                  menuOn && <button>이 유저에게 관심없음</button>\r\n                }\r\n              </div>\r\n            </div>\r\n            <div className=\"nweet_right_center\">\r\n              <h4 className=\"nweet_content\">{likeNweet.text}</h4>\r\n              {likeNweet.attachmentUrl && (\r\n                <div className=\"nweet_content_img_wrapper\">\r\n                  <img src={likeNweet.attachmentUrl} alt=\"img\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"nweet_right_bottom\">\r\n              <div className=\"nweet_right_bottom_like\" onClick={onLikeBtnClick}>\r\n                <svg viewBox=\"0 0 24 24\" \r\n                  aria-hidden=\"true\" >\r\n                  <g>\r\n                    <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\">\r\n                    </path>\r\n                  </g>\r\n                </svg>\r\n                <span>{likeNweet.like.length}</span>\r\n              </div>\r\n              <div className=\"nweet_right_bottom_reNweet\" onClick={onReNweetBtnClick}>\r\n                <svg viewBox=\"0 0 24 24\" \r\n                aria-hidden=\"true\" >\r\n                  <g>\r\n                    <path d=\"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z\">\r\n                    </path>\r\n                  </g>\r\n                </svg>\r\n                <span>{likeNweet.reNweet.length}</span>\r\n              </div>\r\n            <div className=\"nweet_right_bottom_follow\" onClick={onFollowBtnClick}>\r\n              <svg viewBox=\"0 0 20 20\">\r\n\t              <path d=\"M18.258,3.266c-0.693,0.405-1.46,0.698-2.277,0.857c-0.653-0.686-1.586-1.115-2.618-1.115c-1.98,0-3.586,1.581-3.586,3.53c0,0.276,0.031,0.545,0.092,0.805C6.888,7.195,4.245,5.79,2.476,3.654C2.167,4.176,1.99,4.781,1.99,5.429c0,1.224,0.633,2.305,1.596,2.938C2.999,8.349,2.445,8.19,1.961,7.925C1.96,7.94,1.96,7.954,1.96,7.97c0,1.71,1.237,3.138,2.877,3.462c-0.301,0.08-0.617,0.123-0.945,0.123c-0.23,0-0.456-0.021-0.674-0.062c0.456,1.402,1.781,2.422,3.35,2.451c-1.228,0.947-2.773,1.512-4.454,1.512c-0.291,0-0.575-0.016-0.855-0.049c1.588,1,3.473,1.586,5.498,1.586c6.598,0,10.205-5.379,10.205-10.045c0-0.153-0.003-0.305-0.01-0.456c0.7-0.499,1.308-1.12,1.789-1.827c-0.644,0.28-1.334,0.469-2.06,0.555C17.422,4.782,17.99,4.091,18.258,3.266\">\r\n                </path>\r\n\t            </svg>\r\n              {tt ? (\r\n                <span>-</span>\r\n                ) : (\r\n                <span>+</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n  );\r\n};\r\n\r\nexport default LikeNweet;","import { dbService } from \"fbase\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport GetMyNweets from \"./GetMyNweets\";\r\nimport LikeNweet from \"./LikeNweet\";\r\n\r\nconst ProfileBot = ({ userObj, clickOn }) => {\r\n  const [myNweets, setMyNweets] = useState([]);\r\n  const [likeNweets, setLikeNweets] = useState([]);\r\n  useEffect(() => {\r\n  dbService.collection(\"nweets\").where(\"createrId\", \"==\", userObj.uid)\r\n  .orderBy(\"createdAt\",\"desc\")\r\n  .limit(5)\r\n  .onSnapshot((snapshot) => {\r\n    const nweetsMap = snapshot.docs.map((doc) => ({\r\n      id:doc.id,\r\n      ...doc.data()\r\n    }));\r\n    setMyNweets(nweetsMap);\r\n  });\r\n  dbService.collection(\"nweets\").where(\"like\", \"array-contains\", userObj.uid)\r\n  .orderBy(\"createdAt\",\"desc\")\r\n  .limit(5)\r\n  .onSnapshot((snapshot) => {\r\n    const nweetsMap = snapshot.docs.map((doc) => ({\r\n      id:doc.id,\r\n      ...doc.data()\r\n    }));\r\n    setLikeNweets(nweetsMap);\r\n  });\r\n}, [userObj]);\r\n  return (\r\n    <>\r\n    {!clickOn ? \r\n    <>\r\n    {myNweets.map((myNweet) => (\r\n      <GetMyNweets \r\n      key={myNweet.id}\r\n      myNweet={myNweet}\r\n      userObj={userObj}\r\n      />\r\n    ))} \r\n    </>\r\n    : \r\n    <>\r\n    {likeNweets.map((likeNweet) => (\r\n      <LikeNweet \r\n      key={likeNweet.id}\r\n      likeNweet={likeNweet}\r\n      userObj={userObj}\r\n      />\r\n    ))}\r\n    </>\r\n    }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfileBot;","// import React, { useEffect, useState } from \"react\";\r\nimport \"../css/Profile.css\"\r\nimport ProfileTop from \"components/Profile/ProfileTop\";\r\nimport ProfileBot from \"components/Profile/ProfileBot\";\r\nimport { useState } from \"react\";\r\n\r\nconst Profile = ({ userObj, refreshUser }) => {\r\n  const [clickOn, setClickON] = useState(false);\r\n    // const [verified, setVeriFied] = useState(false); \r\n    //  useEffect(() => {\r\n    //     if(!userObj.verified){\r\n    //         return;\r\n    //     } else {\r\n    //         setVeriFied(true);\r\n    //     }\r\n    // }, []);\r\n    return (\r\n    <>\r\n    <div className=\"profile\">\r\n        <ProfileTop userObj={userObj} refreshUser={refreshUser} setClickON={setClickON} clickOn={clickOn}/>\r\n        <div className=\"profile_bottom\">\r\n            <ProfileBot userObj={userObj} clickOn={clickOn}/>\r\n        </div>\r\n    </div>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default Profile;\r\n","import { dbService } from \"fbase\";\r\nimport React from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nconst NweetEdit = ({ nweetObj, setEditing}) => {\r\n  const toggleEditing = () => setEditing(prev => !prev);\r\n  const [newNweet, setNewNweet] = useState(nweetObj.text);\r\n  const onChange = (event) => {\r\n  const {target :{value}} = event;\r\n    setNewNweet(value);\r\n    };\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    await dbService.doc(`nweets/${nweetObj.id}`).update({\r\n      text: newNweet\r\n      });\r\n      setEditing(false);\r\n    };\r\n  return(\r\n    <>\r\n      <form onSubmit={onSubmit} >\r\n        <input onChange={onChange} type=\"text\" placeholder=\"Edit your nweet\" value={newNweet} maxLength=\"80\" required />\r\n        <input type=\"submit\" value=\"Update Nweet\" />\r\n      </form>\r\n      <button onClick={toggleEditing} >Cancel</button>\r\n    </>\r\n    );\r\n};\r\n\r\nexport default NweetEdit;","import { authService, dbService, dbStore, storageService } from \"fbase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./Nweet.css\"\r\nimport NweetEdit from \"./NweetEdit\";\r\n\r\nconst Nweet = ({ nweetObj, isOwner, userObj, followOnly }) => {\r\n    const [editing, setEditing] = useState(false);\r\n    const [menuOn, setMenuOn] = useState(false);\r\n    const [userId, setUserId] = useState(\"\");\r\n    const [time, setTime] = useState(\"\");\r\n    const [tt, setTt] = useState(false);\r\n    useEffect(() => {\r\n        console.log(\"render from Nweet.js\");\r\n        let now = new Date().getTime();\r\n        let second = Math.floor((now - nweetObj.createdAt[0])/1000);\r\n        if(second>2592000) {\r\n            setTime(`${Math.floor(second/2592000)}달 전`)\r\n        } else if(second>604800) {\r\n            setTime(`${Math.floor(second/604800)}주 전`)\r\n        } else if(second>86400) {\r\n            setTime(`${Math.floor(second/86400)}일 전`)\r\n        } else if(second>3600) {\r\n            setTime(`${Math.floor(second/3600)}시간 전`)\r\n        } else if(second>60) {\r\n            setTime(`${Math.floor(second/60)}분`)\r\n        } else if(second === 0) {\r\n            setTime(`따끈따끈`)\r\n        } else if(60>=second) {\r\n            setTime(`${second}초 전`)\r\n        }\r\n        const userId = nweetObj.userEmail.split(\"@\");\r\n        setUserId(userId);\r\n        const followingRef = dbService.doc(`userInfo/${userObj.uid}`);\r\n        followingRef.get()\r\n        .then(async (doc) => {\r\n            const isFollowing = doc.data().following;\r\n            if(isFollowing.includes(nweetObj.createrId, 0)){\r\n                setTt(true)\r\n                }\r\n            }\r\n        )\r\n}, [nweetObj, userObj])\r\n  const toggleEditing = () => setEditing(prev => !prev);\r\n  const onDeleteClick = async () => {\r\n    const ok = window.confirm(\"Are you sure you want to delete this nweet?\");\r\n      if(ok) {\r\n        await dbService.doc(`nweets/${nweetObj.id}`).delete();\r\n        if(nweetObj.attachmentUrl !== \"\") {\r\n          await storageService.refFromURL(nweetObj.attachmentUrl).delete();\r\n        }\r\n      }\r\n  };\r\n    const onLikeBtnClick = async () => {\r\n      if(nweetObj.reNweet.includes(authService.currentUser.uid, 0)) {\r\n          await dbService.doc(`nweets/${nweetObj.id}`).update({\r\n          like: dbStore.FieldValue.arrayRemove(`${authService.currentUser.uid}`)\r\n          })\r\n          return;\r\n      }\r\n      await dbService.doc(`nweets/${nweetObj.id}`).update({\r\n          like: dbStore.FieldValue.arrayUnion(`${authService.currentUser.uid}`)\r\n      })\r\n  };\r\n  const onReNweetBtnClick = async () => {\r\n      if(nweetObj.reNweet.includes(authService.currentUser.uid, 0)) {\r\n          await dbService.doc(`nweets/${nweetObj.id}`).update({\r\n          reNweet: dbStore.FieldValue.arrayRemove(`${authService.currentUser.uid}`)\r\n          })\r\n          return;\r\n      }\r\n      await dbService.doc(`nweets/${nweetObj.id}`).update({\r\n          reNweet: dbStore.FieldValue.arrayUnion(`${authService.currentUser.uid}`)\r\n      })\r\n  };\r\n  const onFollowBtnClick = async () => {\r\n      const followingRef = dbService.doc(`userInfo/${userObj.uid}`);\r\n      followingRef.get()\r\n      .then(async (doc) => {\r\n          const isFollowing = doc.data().following;\r\n          if(!isFollowing.includes(nweetObj.createrId, 0)){\r\n              await dbService.doc(`userInfo/${userObj.uid}`).update({\r\n                  following: dbStore.FieldValue.arrayUnion(`${nweetObj.createrId}`)\r\n              })\r\n              await dbService.doc(`userInfo/${nweetObj.createrId}`).update({\r\n                  follower: dbStore.FieldValue.arrayUnion(`${userObj.uid}`)\r\n              })\r\n              alert(\"팔로우 성공!\");\r\n          }\r\n          if(isFollowing.includes(nweetObj.createrId, 0)){\r\n              await dbService.doc(`userInfo/${userObj.uid}`).update({\r\n                  following: dbStore.FieldValue.arrayRemove (`${nweetObj.createrId}`)\r\n              })\r\n              await dbService.doc(`userInfo/${nweetObj.createrId}`).update({\r\n                  follower: dbStore.FieldValue.arrayRemove(`${userObj.uid}`)\r\n              })\r\n              alert(\"팔로우 해제!\");\r\n          }\r\n      });\r\n  };\r\n    const onMenuClick = () => {\r\n      setMenuOn(prev => !prev);\r\n  };\r\n    return (\r\n        <>\r\n            {editing ? \r\n                <>\r\n                {isOwner && \r\n                <NweetEdit nweetObj={nweetObj} setEditing={setEditing} />\r\n                }\r\n                </>\r\n                :\r\n                <>\r\n                {/* 여기 아래는 팔로우 전용 */}\r\n                {followOnly && tt ? (\r\n                <div className=\"nweet_wrapper\">\r\n                    <div className=\"nweet\">\r\n                        <div className=\"nweet_left\">\r\n                            <img src={nweetObj.profile} alt=\"img\" />\r\n                        </div>\r\n                        <div className=\"nweet_right\">\r\n                            <div className=\"nweet_right_top\">\r\n                                <div className=\"nweet_info\">\r\n                                    <span className=\"nweet_info_displayName\">{nweetObj.displayName}</span>\r\n                                    <span className=\"nweet_info_userId\">{userId[0]}</span>\r\n                                    <span className=\"block\">·</span>\r\n                                    <span className=\"nweet_info_timeAgo\">{time}</span>\r\n                                </div>\r\n                                <div className=\"nweet_menu_wrapper\">\r\n                                        <button className=\"nweet_menu\" onClick={onMenuClick}>메뉴</button>\r\n                                        { menuOn && isOwner && (\r\n                                        <>\r\n                                        <div className=\"nweet_drop_down\">\r\n                                            <div className=\"nweet_drop_menu\" onClick={onDeleteClick}>\r\n                                                <span className=\"nweet_delete_nweet\">이 트윗 지우기</span>\r\n                                            </div>\r\n                                            <div className=\"nweet_drop_menu\" onClick={toggleEditing}>\r\n                                                <span className=\"nweet_edit_nweet\">이 트윗 수정하기</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        </>\r\n                                        )}\r\n                                        {\r\n                                            menuOn && !isOwner && <button>이 유저에게 관심없음</button>\r\n                                        }\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"nweet_right_center\">\r\n                                <h4 className=\"nweet_content\">{nweetObj.text}</h4>\r\n                                {nweetObj.attachmentUrl && (\r\n                                    <div className=\"nweet_content_img_wrapper\">\r\n                                        <img src={nweetObj.attachmentUrl} alt=\"img\" />\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"nweet_right_bottom\">\r\n                                <div className=\"nweet_right_bottom_like\" onClick={onLikeBtnClick}>\r\n                                    <svg viewBox=\"0 0 24 24\" \r\n                                    aria-hidden=\"true\" >\r\n                                        <g>\r\n                                            <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\">\r\n                                            </path>\r\n                                        </g>\r\n                                    </svg>\r\n                                    <span>{nweetObj.like.length}</span>\r\n                                </div>\r\n                                <div className=\"nweet_right_bottom_reNweet\" onClick={onReNweetBtnClick}>\r\n                                    <svg viewBox=\"0 0 24 24\" \r\n                                    aria-hidden=\"true\" >\r\n                                        <g>\r\n                                            <path d=\"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z\">\r\n                                            </path>\r\n                                        </g>\r\n                                    </svg>\r\n                                    <span>{nweetObj.reNweet.length}</span>\r\n                                </div>\r\n                                <div className=\"nweet_right_bottom_follow\" onClick={onFollowBtnClick}>\r\n                                <svg viewBox=\"0 0 20 20\">\r\n\t\t\t\t\t\t\t        <path d=\"M18.258,3.266c-0.693,0.405-1.46,0.698-2.277,0.857c-0.653-0.686-1.586-1.115-2.618-1.115c-1.98,0-3.586,1.581-3.586,3.53c0,0.276,0.031,0.545,0.092,0.805C6.888,7.195,4.245,5.79,2.476,3.654C2.167,4.176,1.99,4.781,1.99,5.429c0,1.224,0.633,2.305,1.596,2.938C2.999,8.349,2.445,8.19,1.961,7.925C1.96,7.94,1.96,7.954,1.96,7.97c0,1.71,1.237,3.138,2.877,3.462c-0.301,0.08-0.617,0.123-0.945,0.123c-0.23,0-0.456-0.021-0.674-0.062c0.456,1.402,1.781,2.422,3.35,2.451c-1.228,0.947-2.773,1.512-4.454,1.512c-0.291,0-0.575-0.016-0.855-0.049c1.588,1,3.473,1.586,5.498,1.586c6.598,0,10.205-5.379,10.205-10.045c0-0.153-0.003-0.305-0.01-0.456c0.7-0.499,1.308-1.12,1.789-1.827c-0.644,0.28-1.334,0.469-2.06,0.555C17.422,4.782,17.99,4.091,18.258,3.266\">\r\n                                    </path>\r\n\t                            </svg>\r\n                                    <span>-</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                //여기 아래부턴 전체공개\r\n                ) : !followOnly && (\r\n                    <div className=\"nweet_wrapper\">\r\n                    <div className=\"nweet\">\r\n                        <div className=\"nweet_left\">\r\n                            <img src={nweetObj.profile} alt=\"img\" />\r\n                        </div>\r\n                        <div className=\"nweet_right\">\r\n                            <div className=\"nweet_right_top\">\r\n                                <div className=\"nweet_info\">\r\n                                    <span className=\"nweet_info_displayName\">{nweetObj.displayName}</span>\r\n                                    <span className=\"nweet_info_userId\">{userId[0]}</span>\r\n                                    <span className=\"block\">·</span>\r\n                                    <span className=\"nweet_info_timeAgo\">{time}</span>\r\n                                </div>\r\n                                <div className=\"nweet_menu_wrapper\">\r\n                                        <button className=\"nweet_menu\" onClick={onMenuClick}>메뉴</button>\r\n                                        { menuOn && isOwner && (\r\n                                        <>\r\n                                        <div className=\"nweet_drop_down\">\r\n                                            <div className=\"nweet_drop_menu\" onClick={onDeleteClick}>\r\n                                                <span className=\"nweet_delete_nweet\">이 트윗 지우기</span>\r\n                                            </div>\r\n                                            <div className=\"nweet_drop_menu\" onClick={toggleEditing}>\r\n                                                <span className=\"nweet_edit_nweet\">이 트윗 수정하기</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        </>\r\n                                        )}\r\n                                        {\r\n                                            menuOn && !isOwner && <button>이 유저에게 관심없음</button>\r\n                                        }\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"nweet_right_center\">\r\n                                <h4 className=\"nweet_content\">{nweetObj.text}</h4>\r\n                                {nweetObj.attachmentUrl && (\r\n                                    <div className=\"nweet_content_img_wrapper\">\r\n                                        <img src={nweetObj.attachmentUrl} alt=\"img\" />\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"nweet_right_bottom\">\r\n                                <div className=\"nweet_right_bottom_like\" onClick={onLikeBtnClick}>\r\n                                    <svg viewBox=\"0 0 24 24\" \r\n                                    aria-hidden=\"true\" >\r\n                                        <g>\r\n                                            <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\">\r\n                                            </path>\r\n                                        </g>\r\n                                    </svg>\r\n                                    <span>{nweetObj.like.length}</span>\r\n                                </div>\r\n                                <div className=\"nweet_right_bottom_reNweet\" onClick={onReNweetBtnClick}>\r\n                                    <svg viewBox=\"0 0 24 24\" \r\n                                    aria-hidden=\"true\" >\r\n                                        <g>\r\n                                            <path d=\"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z\">\r\n                                            </path>\r\n                                        </g>\r\n                                    </svg>\r\n                                    <span>{nweetObj.reNweet.length}</span>\r\n                                </div>\r\n                                <div className=\"nweet_right_bottom_follow\" onClick={onFollowBtnClick}>\r\n                                <svg viewBox=\"0 0 20 20\">\r\n\t\t\t\t\t\t\t        <path d=\"M18.258,3.266c-0.693,0.405-1.46,0.698-2.277,0.857c-0.653-0.686-1.586-1.115-2.618-1.115c-1.98,0-3.586,1.581-3.586,3.53c0,0.276,0.031,0.545,0.092,0.805C6.888,7.195,4.245,5.79,2.476,3.654C2.167,4.176,1.99,4.781,1.99,5.429c0,1.224,0.633,2.305,1.596,2.938C2.999,8.349,2.445,8.19,1.961,7.925C1.96,7.94,1.96,7.954,1.96,7.97c0,1.71,1.237,3.138,2.877,3.462c-0.301,0.08-0.617,0.123-0.945,0.123c-0.23,0-0.456-0.021-0.674-0.062c0.456,1.402,1.781,2.422,3.35,2.451c-1.228,0.947-2.773,1.512-4.454,1.512c-0.291,0-0.575-0.016-0.855-0.049c1.588,1,3.473,1.586,5.498,1.586c6.598,0,10.205-5.379,10.205-10.045c0-0.153-0.003-0.305-0.01-0.456c0.7-0.499,1.308-1.12,1.789-1.827c-0.644,0.28-1.334,0.469-2.06,0.555C17.422,4.782,17.99,4.091,18.258,3.266\">\r\n                                    </path>\r\n\t                            </svg>\r\n                                {tt ? (\r\n                                    <span>-</span>\r\n                                    ) : (\r\n                                    <span>+</span>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                )}\r\n                \r\n                 </>\r\n            }\r\n            </>\r\n    );\r\n};\r\n\r\nexport default Nweet;","import { dbService, storageService } from \"fbase\";\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport \"./NweetFactory.css\";\r\n\r\nconst NweetFactory = ({ userObj }) => {\r\n    const [nweet, setNweet] = useState(\"\");\r\n    const [attachment, setAttachment] = useState(\"\");\r\n    const [nweetTyped, setNweetTyped] = useState(false);\r\n    const fileInput = useRef();\r\n    const nweetText = useRef();\r\n    useEffect(() => {\r\n        const config = { characterData: true, childList: true, subtree: true };\r\n        const callback = function(mutationList, observer) {\r\n            for(let mutation of mutationList) {\r\n                if (mutation.type === \"characterData\") {\r\n                    setNweet(nweetText.current.innerText);\r\n                    setNweetTyped(true);\r\n                } else if (nweetText.current.innerText === \"\") {\r\n                    setNweetTyped(false);\r\n                }\r\n            }\r\n        };\r\n        const observer = new MutationObserver(callback);\r\n        observer.observe(nweetText.current, config);\r\n    }, [])\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        if(nweet === \"\"){\r\n            alert(\"내용을 입력해주세요!\");\r\n            return;\r\n        }\r\n        let attachmentUrl = \"\";\r\n        let date = new Date();\r\n        if(attachment !== \"\"){\r\n            const attachmentRef = storageService.ref().child(`${userObj.uid}/nweet_img/${uuidv4()}`);\r\n            const response = await attachmentRef.putString(attachment, \"data_url\");\r\n            attachmentUrl = await response.ref.getDownloadURL();\r\n        }\r\n        const nweetObj = {\r\n            text: nweet,\r\n            createdAt: [date.getTime(), date.getFullYear(), date.getMonth(), date.getDay(), date.getHours(), date.getMinutes()],\r\n            createrId: userObj.uid,\r\n            attachmentUrl,\r\n            reNweet: [],\r\n            like: [],\r\n            profile: userObj.photoURL,\r\n            displayName: userObj.displayName,\r\n            userEmail: userObj.email\r\n        };\r\n        await dbService.collection(\"nweets\").add(nweetObj);\r\n        setNweet(\"\");\r\n        setAttachment(\"\");\r\n        nweetText.current.innerText = \"\";\r\n    };\r\n    const onFileChange = (event) => {\r\n        const {target:{files}} = event;\r\n        const theFile = files[0];\r\n        const reader = new FileReader();\r\n        reader.onloadend = (finishedEvent) => {\r\n            const {currentTarget:{result}} = finishedEvent;\r\n            setAttachment(result);\r\n        };\r\n        if(theFile){\r\n            reader.readAsDataURL(theFile);\r\n        }\r\n    };\r\n/*     const onClearAttachment = () => {\r\n        fileInput.current.value = null;\r\n        setAttachment(\"\");\r\n    }; */\r\n    const onFileClick = (event) => {\r\n        event.target.value = null;\r\n    }\r\n    const aaaa = () => {\r\n        return;\r\n    }\r\n    return(\r\n        <>\r\n        <div className=\"nweet_factory_right\">\r\n            <div className=\"nweet_factory_nweet_wrapper\">\r\n                <div \r\n                className={ nweetTyped ? \"hidden placeholder\" : \"placeholder\"}>\r\n                무슨 일이 일어나고 있나요?\r\n                </div>\r\n                <span\r\n                className=\"nweet_factory_nweet_text\"\r\n                role=\"textbox\"\r\n                contentEditable=\"true\"\r\n                suppressContentEditableWarning=\"true\"\r\n                maxLength=\"80\"\r\n                htmlFor=\"put_text\"\r\n                ref={nweetText}>\r\n                </span>\r\n            </div>\r\n            {attachment && \r\n                <div className=\"nweet_factory_attachmentImg\">\r\n                    <img src={attachment} alt=\"img\" />\r\n                    {/* <button onClick={onClearAttachment} >Clear</button> */}\r\n                </div>\r\n                }\r\n            <form onSubmit={onSubmit} className=\"nweet_factory_form\">\r\n                    <textarea\r\n                    className=\"nweet_factory_nweet_input hidden\" \r\n                    placeholder=\"무슨일?\" \r\n                    maxLength=\"80\" \r\n                    id=\"put_text\"\r\n                    value={nweet}\r\n                    onChange={aaaa}\r\n                    />\r\n                <div className=\"nweet_factory_form_bottom\">\r\n                    <div className=\"nweet_factory_choose_img\">\r\n                        <label htmlFor=\"inputt\">\r\n                            <svg viewBox=\"0 0 24 24\" \r\n                            aria-hidden=\"true\" \r\n                            className=\"icon\"\r\n                            >\r\n                                <g>\r\n                                    <path d=\"M19.75 2H4.25C3.01 2 2 3.01 2 4.25v15.5C2 20.99 3.01 22 4.25 22h15.5c1.24 0 2.25-1.01 2.25-2.25V4.25C22 3.01 20.99 2 19.75 2zM4.25 3.5h15.5c.413 0 .75.337.75.75v9.676l-3.858-3.858c-.14-.14-.33-.22-.53-.22h-.003c-.2 0-.393.08-.532.224l-4.317 4.384-1.813-1.806c-.14-.14-.33-.22-.53-.22-.193-.03-.395.08-.535.227L3.5 17.642V4.25c0-.413.337-.75.75-.75zm-.744 16.28l5.418-5.534 6.282 6.254H4.25c-.402 0-.727-.322-.744-.72zm16.244.72h-2.42l-5.007-4.987 3.792-3.85 4.385 4.384v3.703c0 .413-.337.75-.75.75z\">\r\n                                    </path>\r\n                                    <circle cx=\"8.868\" cy=\"8.309\" r=\"1.542\">\r\n                                    </circle>\r\n                                </g>\r\n                            </svg>\r\n                            <input\r\n                            id=\"inputt\"\r\n                            className=\"nweet_factory_choosefile hidden\"\r\n                            type=\"file\" \r\n                            accept=\"image/*\" \r\n                            onChange={onFileChange}\r\n                            onClick={onFileClick}\r\n                            ref={fileInput} />\r\n                        </label>\r\n                    </div>\r\n                    <input \r\n                    className={nweetTyped ? \"nweet_factory_nweet_on\" : \"nweet_factory_nweet_off\"}\r\n                    type=\"submit\"\r\n                    value=\"트윗하기\" />\r\n                </div>\r\n            </form>\r\n        </div>\r\n        </>\r\n    );\r\n};\r\nexport default NweetFactory;","import Nweet from \"components/Nweets/Nweet\";\r\nimport NweetFactory from \"components/Nweets/NweetFactory\";\r\nimport { dbService } from \"fbase\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport \"../css/Home.css\";\r\n\r\nconst Home = ({ userObj }) => {\r\n    const [nweets, setNweets] = useState([]);\r\n    const [followMenu, setFollowMenu] = useState(false);\r\n    const [followOnly, setFollowOnly] = useState(false);\r\n    const followMenuWrapper = useRef();\r\n    const topCoord = useRef();\r\n    useEffect(() => {\r\n        dbService.collection(\"nweets\").orderBy(\"createdAt\",\"desc\").onSnapshot((snapshot) => {\r\n            const nweetInfoObj = snapshot.docs.map(doc => ({\r\n                id:doc.id,\r\n                ...doc.data(),\r\n            }));\r\n            setNweets(nweetInfoObj);\r\n        });\r\n        const followMenuOff = (event) => {\r\n            if(!followMenuWrapper.current.contains(event.target)){\r\n                setFollowMenu(false);\r\n            }\r\n        }\r\n        document.body.addEventListener(\"mousedown\", followMenuOff);\r\n        return () => {\r\n        document.body.removeEventListener(\"mousedown\", followMenuOff);\r\n        }\r\n    }, []);\r\n    const onClick = () => {\r\n        topCoord.current.scrollIntoView(false);\r\n    };\r\n    const onFollowMenuClick = () => {\r\n        setFollowMenu(true);\r\n    }\r\n    const onFollowOnlyClick = () => {\r\n        setFollowOnly(prev => !prev);\r\n    }\r\n    return(\r\n    <>\r\n    <div className=\"home_center\">\r\n        <div className=\"home_center_wrapper\">\r\n            <div className=\"home_center_homebar_wrapper\">\r\n                <div className=\"home_center_homebar\" onClick={onClick}>\r\n                    {followOnly ? (\r\n                    <span>팔로워만</span>\r\n                    ) : (\r\n                    <span>홈</span>\r\n                    )}\r\n                </div>\r\n                <div onClick={onFollowMenuClick}>\r\n                <span className=\"star\">★</span>\r\n                    <div ref={followMenuWrapper} className={followMenu ? \"home_center_homebar_menu\" : \"hidden\"}>\r\n                        <div className=\"home_center_homebar_menu_top\">\r\n                            {followOnly ? (\r\n                            <span>이곳에서는 팔로우한 사람의 트윗만 보입니다.</span>\r\n                            ) : (\r\n                            <span>홈에서는 모든 트윗이 보입니다.</span>\r\n                            )}\r\n                        </div>\r\n                        <div onClick={onFollowOnlyClick} className=\"home_center_homebar_menu_bottom\">\r\n                            <svg viewBox=\"0 0 24 24\" \r\n                            aria-hidden=\"true\" \r\n                            className=\"\">\r\n                                <g>\r\n                                    <path d=\"M21 16.25H4.81l3.22-3.22c.294-.293.294-.768 0-1.06s-.767-.294-1.06 0l-4.5 4.5c-.293.292-.293.767 0 1.06l4.5 4.5c.146.146.338.22.53.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.22-3.22H21c.414 0 .75-.337.75-.75s-.336-.75-.75-.75zM3 7.75h16.19l-3.22 3.22c-.294.293-.294.768 0 1.06.145.147.337.22.53.22s.383-.072.53-.22l4.5-4.5c.292-.292.292-.767 0-1.06l-4.5-4.5c-.294-.293-.77-.293-1.062 0s-.293.768 0 1.06l3.22 3.22H3c-.414 0-.75.336-.75.75s.336.75.75.75z\">\r\n                                    </path>\r\n                                </g>\r\n                            </svg>\r\n                            <div className=\"home_center_homebar_menu_bottom_text\">\r\n                                {followOnly ? (\r\n                                    <span>모든 트윗 보기.</span>\r\n                                ) : (\r\n                                    <span>팔로워만 보기.</span>\r\n                                )}\r\n                                <span className=\"ola\">올라오는 순서대로 표시됩니다.</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"home_center_nweet_wrapper\" ref={topCoord}>\r\n                <div className=\"home_center_nweet_profile_img\">\r\n                    <img src={userObj.photoURL} alt=\"img\" />\r\n                </div>\r\n                <NweetFactory userObj={userObj} />\r\n            </div>\r\n            <div className=\"home_center_bottom\">\r\n                <div className=\"nweets\">\r\n                    {/* nweets에서 받아온 배열을 map으로 분해 및 텍스트 출력. */}\r\n                    {nweets.map((a_nweet) => (\r\n                        <Nweet key={a_nweet.id} \r\n                        nweetObj={a_nweet} \r\n                        isOwner={a_nweet.createrId === userObj.uid}\r\n                        userObj={userObj}\r\n                        setFollowOnly={setFollowOnly}\r\n                        followOnly={followOnly}\r\n                        />\r\n                ))} \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </>\r\n    );\r\n};\r\n\r\nexport default Home;","import { authService } from \"fbase\";\r\nimport React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst AuthForm = () => {\r\n    // 1) useState 사용해서 input 태그의 이메일, 패스워드 조작.\r\n    const [loginEmail, setLoginEmail] = useState(\"\");\r\n    const [loginPassword, setLoginPassword] = useState(\"\");\r\n    const history = useHistory();\r\n/*  react에선 input태그가 입력받은 value를 사용자에게 보여주지 않음.\r\n    각 input마다 onChange 이벤트에 함수를 부여해서 제어. */\r\n    const onChange = (event) => {\r\n        const {target: {name, value}} = event;\r\n        if(name === \"login_email\"){\r\n            setLoginEmail(value);\r\n        } else if(name === \"login_password\") {\r\n            setLoginPassword(value);\r\n        }\r\n    };\r\n    //로그인\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try{\r\n            await authService.signInWithEmailAndPassword(loginEmail, loginPassword);\r\n            history.push(\"/home\");\r\n            } catch(error) {\r\n            console.log(error.message);\r\n        }\r\n    };\r\n    return(\r\n    <>\r\n    <div className=\"login_form_wrapper\">\r\n        <form onSubmit={onSubmit} className=\"login_form\">\r\n            <input \r\n            className=\"login_form_id\" \r\n            name=\"login_email\" \r\n            type=\"text\" \r\n            placeholder=\"Email\" \r\n            value={loginEmail} \r\n            onChange={onChange} \r\n            autoComplete=\"username\" \r\n            required />\r\n            <input\r\n            className=\"login_form_password\" \r\n            name=\"login_password\" \r\n            type=\"password\" \r\n            placeholder=\"Password\" \r\n            value={loginPassword} \r\n            onChange={onChange} \r\n            autoComplete=\"current-password\"\r\n            required />\r\n            <input \r\n            className=\"login_form_submit\" \r\n            type=\"submit\" \r\n            value=\"Log In\" \r\n            required />\r\n        </form>\r\n    </div>\r\n    </>\r\n    );\r\n};\r\nexport default AuthForm;","import { authService, dbService, fireBaseInstance } from \"fbase\";\r\nimport React from \"react\";\r\n\r\nconst SocialLinks = () => {\r\n    //가입하면 newAccount가 거짓이니 false로 바꿔주고, 반대도 마찬가지로 뒤집어주는 작업.\r\n    //구글, 깃헙으로 로그인\r\n    const onSocialClick = async (event) => {\r\n        const { target: { name }} = event;\r\n        let provider;\r\n        if(name === \"google\"){\r\n            provider = new fireBaseInstance.auth.GoogleAuthProvider();\r\n            provider.setCustomParameters({\r\n                prompt: \"select_account\"\r\n            });\r\n        } else if(name === \"github\"){\r\n            provider = new fireBaseInstance.auth.GithubAuthProvider();\r\n        }\r\n        await authService.signInWithPopup(provider).then(async (user) => {\r\n            const {additionalUserInfo :{isNewUser}} = user;\r\n            if(isNewUser){\r\n                const userInfo = {\r\n                    follower: [],\r\n                    following: []\r\n                };\r\n                const userInfoRef = dbService.collection(\"userInfo\") \r\n                await userInfoRef.doc(`${user.user.uid}`).set(userInfo);\r\n            }\r\n        })\r\n    };\r\n    return(\r\n        <>\r\n        <button onClick={onSocialClick} name=\"google\">Login with Google</button>\r\n        <button onClick={onSocialClick} name=\"github\">Login with Github</button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SocialLinks;","import AuthForm from \"components/Auth/AuthForm\";\r\nimport SocialLinks from \"components/Auth/SocialLinks\";\r\n\r\n//인증 컴포넌트\r\nconst Auth = () => {\r\n\r\n    //화면 리턴\r\n    return(\r\n    <>\r\n    <div className=\"register\">\r\n        <AuthForm />\r\n        <div className=\"social_links\">\r\n        <SocialLinks />\r\n        </div>\r\n    </div>\r\n    </>\r\n    );\r\n};\r\nexport default Auth;","import { authService, dbService, storageService } from \"fbase\";\r\nimport React, { useState } from \"react\";\r\nimport \"../css/CreateAccount.css\"\r\n\r\nconst CreateAccount = ({ setSignUp, refreshUser }) => {\r\n    const [registerEmail, setRegisterEmail] = useState(\"\");\r\n    const [registerPassword, setRegisterPassword] = useState(\"\");\r\n    const onChange = (event) => {\r\n        const {target: {name, value}} = event;\r\n        if(name === \"register_email\") {\r\n            setRegisterEmail(value);\r\n        } else if(name === \"register_password\") {\r\n            setRegisterPassword(value);\r\n        }\r\n    };\r\n/*     const emailVerification = () => {\r\n        authService.currentUser.sendEmailVerification()\r\n        .then(() => {\r\n            alert(\"verification link sent to your email. please check email.\");\r\n        });\r\n    }; */\r\n    const onSubmit =  async(event) => {\r\n        event.preventDefault();\r\n        try{\r\n            await authService.createUserWithEmailAndPassword(registerEmail, registerPassword)\r\n            .then(async (user) => {\r\n                let profileUrl = \"\";\r\n                const storageRef = storageService.ref().child(`userDeafultSet/profile_img/userprofile.png`);\r\n                profileUrl = await storageRef.getDownloadURL();\r\n                await user.user.updateProfile({\r\n                        photoURL: profileUrl\r\n                    })\r\n                refreshUser();\r\n                const userInfo = {\r\n                    follower: [],\r\n                    following: []\r\n                };\r\n                const userInfoRef = dbService.collection(\"userInfo\") \r\n                await userInfoRef.doc(`${user.user.uid}`).set(userInfo);\r\n            }).catch((e) => {\r\n                console.log(\"에러:\", e);\r\n            });\r\n            authService.languageCode = \"ko\";\r\n            // alert(\"가입완료\");\r\n            // emailVerification();\r\n            // window.localStorage.setItem(\"sendMail\", true);\r\n            } catch(error) {\r\n            console.log(error.message, \"에러!\");\r\n            window.location.replace(\"/\");\r\n        }\r\n    };\r\n    const onClick = () => {\r\n        setSignUp(false);\r\n    }\r\n    return(\r\n        <>\r\n        <span>회원 가입</span>\r\n        <form onSubmit={onSubmit} className=\"register_form\">\r\n            <input \r\n            className=\"register_form_id\" \r\n            name=\"register_email\" \r\n            type=\"text\" \r\n            placeholder=\"Email\" \r\n            autoComplete=\"off\"\r\n            value={registerEmail} \r\n            onChange={onChange} \r\n            required/>\r\n            <input \r\n            className=\"register_form_password\" \r\n            name=\"register_password\" \r\n            type=\"password\" \r\n            placeholder=\"Password\" \r\n            autoComplete=\"new-password\"\r\n            value={registerPassword} \r\n            onChange={onChange} \r\n            required\r\n            />\r\n            <input \r\n            className=\"register_form_submit\" \r\n            type=\"submit\" \r\n            value=\"Register\" \r\n            required\r\n            />\r\n        </form>\r\n        <button onClick={onClick}>닫기</button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CreateAccount;","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"footer\">\r\n        소개\r\n        고객센터\r\n        이용약관\r\n        개인정보 처리방침\r\n        쿠키 정책\r\n        광고 정보\r\n        블로그\r\n        상태\r\n        채용\r\n        브랜드 리소스\r\n        광고\r\n        마케팅\r\n        비즈니스용 트위터\r\n        개발자\r\n        디렉터리\r\n        설정\r\n        &copy;{new Date().getFullYear()}Nwitter\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;","import React, { useEffect, useRef, useState } from \"react\";\r\nimport Auth from \"routes/Auth\";\r\nimport CreateAccount from \"../components/CreateAccount\";\r\nimport Footer from \"../components/Footer\";\r\nimport \"./FirstScreen.css\"\r\n\r\n\r\nconst FirstScreen = ({ userObj, refreshUser }) => {\r\n    const [signUp, setSignUp] = useState(false);\r\n    const signUpPage = useRef();\r\n    const onClick = () => {\r\n        setSignUp(true);\r\n    };\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            if(signUp && !signUpPage.current.contains(event.target)){\r\n                setSignUp(false);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handleClickOutside)\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleClickOutside)\r\n        }\r\n    }, [signUp]);\r\n    return(\r\n    <div className=\"main_wrapper_1\">\r\n        {signUp && (\r\n        <div className=\"modal_wrapper\">\r\n            <div className=\"modal\">\r\n                <div className=\"register_wrapper\" ref={signUpPage}>\r\n                 <CreateAccount setSignUp={setSignUp} refreshUser={refreshUser}/>\r\n                </div>\r\n            </div>\r\n        </div>)}\r\n  \r\n        <div className=\"main_top\">\r\n            {/* 화면좌측 */}\r\n            <header className=\"header\">\r\n                <div className=\"birdImg\">\r\n                    <svg viewBox=\"0 0 24 24\" \r\n                    aria-hidden=\"true\">\r\n                    <g>\r\n                        <path d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z\">\r\n                        </path>\r\n                    </g>\r\n                    </svg>\r\n                </div>\r\n            </header>\r\n            {/* 화면우측 */}\r\n            <main className=\"main\">\r\n                <div className=\"birdImg2_wrapper\">\r\n                    <svg viewBox=\"0 0 24 24\"\r\n                    aria-hidden=\"true\"\r\n                    className=\"birdImg2\">\r\n                    <g>\r\n                        <path d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z\">\r\n                        </path>\r\n                    </g>\r\n                    </svg>\r\n                </div>\r\n                    <div className=\"main_text_wrapper\">\r\n                        <span>지금 일어나고 있는 일</span>\r\n                        <span>오늘 ㅇㅇㅇ에 로그인하세요.</span>\r\n                    </div>\r\n                    <Auth />\r\n                    <div className=\"main_regist_text\">\r\n                        <span>계정이 아직 없으신가요?</span>\r\n                        <span onClick={onClick} className=\"sign_up\">가입하기</span>\r\n                    </div>\r\n            </main>\r\n        </div>\r\n        <div className=\"main_bottom\">\r\n           <Footer />\r\n        </div>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default FirstScreen;","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useRef } from \"react\";\r\nimport \"./Navigation.css\"\r\nimport { authService } from \"fbase\";\r\n\r\nconst Navigation = ({ userObj} ) => {\r\n    const navIcon = useRef();\r\n    if(userObj.displayName === null){\r\n        const email = userObj.email;\r\n        const emailToNickname = email.split(\"@\");\r\n        userObj.displayName = emailToNickname[0];\r\n    }\r\n    const onClick = () => {\r\n        navIcon.current.style.fill = \"black\";\r\n    }\r\n    const history = useHistory();\r\n    const onLogOutClick = () => {\r\n        authService.signOut();\r\n        history.push(\"/\");\r\n    };\r\n    return(\r\n        <nav className=\"nav\">\r\n            <div className=\"nav_menu_wrapper1\">\r\n                <div className=\"nav_menu_wrapper2\">\r\n                    <div className=\"nav_menu\">\r\n                        <svg viewBox=\"0 0 24 24\"\r\n                            aria-hidden=\"true\"\r\n                            className=\"nav_birdImg2\">\r\n                            <g>\r\n                                <path d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z\">\r\n                                </path>\r\n                            </g>\r\n                            </svg>\r\n                        <ul>\r\n                            <li>\r\n                                <Link to=\"/home\">\r\n                                    <div className=\"nav_home_wrapper\">\r\n                                    <svg viewBox=\"0 0 24 24\"\r\n                                        aria-hidden=\"true\" \r\n                                        className=\"nav_home_icon\">\r\n                                        <g>\r\n                                        <path d=\"M22.58 7.35L12.475 1.897c-.297-.16-.654-.16-.95 0L1.425 7.35c-.486.264-.667.87-.405 1.356.18.335.525.525.88.525.16 0 .324-.038.475-.12l.734-.396 1.59 11.25c.216 1.214 1.31 2.062 2.66 2.062h9.282c1.35 0 2.444-.848 2.662-2.088l1.588-11.225.737.398c.485.263 1.092.082 1.354-.404.263-.486.08-1.093-.404-1.355zM12 15.435c-1.795 0-3.25-1.455-3.25-3.25s1.455-3.25 3.25-3.25 3.25 1.455 3.25 3.25-1.455 3.25-3.25 3.25z\">\r\n                                        </path>\r\n                                        </g>\r\n                                    </svg>\r\n                                    <span className=\"nav_menu_text\">홈</span>\r\n                                    </div>\r\n                                </Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link to=\"/profile\">\r\n                                <div onClick={onClick} className=\"nav_profile_wrapper\">\r\n                                    <svg ref={navIcon} viewBox=\"0 0 24 24\" aria-hidden=\"true\" className=\"nav_profile_icon\"><g><path d=\"M12 11.816c1.355 0 2.872-.15 3.84-1.256.814-.93 1.078-2.368.806-4.392-.38-2.825-2.117-4.512-4.646-4.512S7.734 3.343 7.354 6.17c-.272 2.022-.008 3.46.806 4.39.968 1.107 2.485 1.256 3.84 1.256zM8.84 6.368c.162-1.2.787-3.212 3.16-3.212s2.998 2.013 3.16 3.212c.207 1.55.057 2.627-.45 3.205-.455.52-1.266.743-2.71.743s-2.255-.223-2.71-.743c-.507-.578-.657-1.656-.45-3.205zm11.44 12.868c-.877-3.526-4.282-5.99-8.28-5.99s-7.403 2.464-8.28 5.99c-.172.692-.028 1.4.395 1.94.408.52 1.04.82 1.733.82h12.304c.693 0 1.325-.3 1.733-.82.424-.54.567-1.247.394-1.94zm-1.576 1.016c-.126.16-.316.246-.552.246H5.848c-.235 0-.426-.085-.552-.246-.137-.174-.18-.412-.12-.654.71-2.855 3.517-4.85 6.824-4.85s6.114 1.994 6.824 4.85c.06.242.017.48-.12.654z\"></path></g></svg>\r\n                                    <span className=\"nav_menu_text\">{userObj.displayName}의 프로필</span>\r\n                                </div>\r\n                                </Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <button onClick={onLogOutClick}>Log Out</button>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n;\r\n\r\nexport default Navigation;","import React, { useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { useState } from \"react\";\r\nimport \"./Aside.css\"\r\n\r\nconst Aside = () => {\r\n    const [searchValue, setSearchValue] = useState(\"\");\r\n    const [searchClicked, setSearchClicked] = useState(false);\r\n    const [notLocal, setNotLocal] = useState(true);\r\n    useEffect(() => {\r\n        const labelStyleRecover = (event) => {\r\n            if(!label.current.contains(event.target)){\r\n                setSearchClicked(false);\r\n                searchIcon.current.style.fill = \"#787a88\";\r\n            }\r\n        }\r\n        document.body.addEventListener(\"mousedown\", labelStyleRecover)\r\n        return () => {\r\n        document.body.removeEventListener(\"mousedown\", labelStyleRecover)\r\n        }\r\n    })\r\n    const label = useRef();\r\n    const searchIcon = useRef();\r\n    const onSearchClick = () => {\r\n            setSearchClicked(true);\r\n            searchIcon.current.style.fill = \"#00acee\";\r\n            if(window.localStorage.getItem(\"최근검색\") !== null){\r\n                setNotLocal(false);\r\n            }\r\n    };\r\n    const onChange = (event) => {\r\n        setSearchValue(event.target.value);\r\n    }\r\n    const onSearchSubmit = (event) => {\r\n        event.preventDefault();\r\n        window.localStorage.setItem(\"최근검색\",searchValue);\r\n        setSearchValue(\"\");\r\n        setNotLocal(false)\r\n    };\r\n    return(\r\n        <div className=\"aside\">\r\n            <div className=\"aside_wrapper\">\r\n                <div className=\"aside_left\">\r\n                    <div onClick={onSearchClick} className=\"aside_left_search\">\r\n                        <label className={searchClicked ? \"label_click\" : \"label_out\"} ref={label}>\r\n                            <div className=\"aside_left_search_left\">\r\n                                <svg viewBox=\"0 0 24 24\" \r\n                                aria-hidden=\"true\" \r\n                                className=\"aside_left_search_icon\"\r\n                                ref={searchIcon}>\r\n                                    <g>\r\n                                        <path d=\"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z\">\r\n                                        </path>\r\n                                    </g>\r\n                                </svg>\r\n                            </div>\r\n                            <form onSubmit={onSearchSubmit} className=\"aside_left_search_center\">\r\n                                    <input \r\n                                    className=\"aside_left_search_input\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"트위터 검색\"\r\n                                    value={searchValue}\r\n                                    onChange={onChange}\r\n                                    />\r\n                                    <input\r\n                                    type=\"submit\"\r\n                                    value=\"제출\"\r\n                                    className=\"hidden\"\r\n                                    />\r\n                            </form>\r\n                            <div className=\"aside_left_search_right\">\r\n                                <span></span>\r\n                            </div>\r\n                        </label>\r\n                        <div className={searchClicked && notLocal ? \"test1\" : \"hidden\"}>\r\n                            {searchValue && <span>\"{searchValue}\"검색</span>}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"aside_left_trend\">\r\n                        <div className=\"aside_left_trend_1\">\r\n                            <span>트렌드</span>\r\n                            <span>아무튼 톱니바퀴임</span>\r\n                        </div>\r\n                        <div className=\"aside_left_trend_2\">\r\n                            1.으앵\r\n                        </div>\r\n                        <div className=\"aside_left_trend_3\">\r\n                            2.응애\r\n                        </div>\r\n                        <div className=\"aside_left_trend_4\">\r\n                            3.응애\r\n                        </div>\r\n                        <div>\r\n                            더보기임\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"aside_left_follow_recommend\">\r\n                        팔로우 추천\r\n                    </div>\r\n                    <div className=\"aside_left_footer\">\r\n                    이용약관\r\n                    개인정보 처리방침\r\n                    쿠키 정책\r\n                    광고 정보\r\n                    더 보기\r\n                    © 2021 Twitter, Inc.\r\n                    </div>\r\n                </div>\r\n                <div className=\"aside_right\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Aside;","import React, { useEffect } from \"react\";\r\n\r\nconst Verified = ({ setNotWatching }) => {\r\n    useEffect(() => {\r\n        setNotWatching(false);\r\n    })\r\n    const onClick = () => {\r\n        window.localStorage.removeItem(\"sendMail\");\r\n        window.close();\r\n    }\r\n    return(\r\n        <div>\r\n            <span>인증이 완료되었습니다</span>\r\n            <button onClick={onClick}>확인</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Verified;","import { authService, dbService, dbStore } from \"fbase\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nconst SearchNweet = ({ nweetObj, userObj }) => {\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [menuOn, setMenuOn] = useState(false);\r\n  const [time, setTime] = useState(\"\");\r\n  const [tt, setTt] = useState(false);\r\n  useEffect(() => {\r\n        let now = new Date().getTime();\r\n        let second = Math.floor((now - nweetObj.createdAt[0])/1000);\r\n        if(second>2592000) {\r\n            setTime(`${Math.floor(second/2592000)}달 전`)\r\n        } else if(second>604800) {\r\n            setTime(`${Math.floor(second/604800)}주 전`)\r\n        } else if(second>86400) {\r\n            setTime(`${Math.floor(second/86400)}일 전`)\r\n        } else if(second>3600) {\r\n            setTime(`${Math.floor(second/3600)}시간 전`)\r\n        } else if(second>60) {\r\n            setTime(`${Math.floor(second/60)}분`)\r\n        } else if(second === 0) {\r\n            setTime(`따끈따끈`)\r\n        } else if(60>=second) {\r\n            setTime(`${second}초 전`)\r\n        }\r\n        const userId = nweetObj.userEmail.split(\"@\");\r\n        setUserId(userId);\r\n        const followingRef = dbService.doc(`userInfo/${userObj.uid}`);\r\n        followingRef.get()\r\n        .then(async (doc) => {\r\n            const isFollowing = doc.data().following;\r\n            if(isFollowing.includes(nweetObj.createrId, 0)){\r\n                setTt(true)\r\n                }\r\n            }\r\n        )\r\n  }, [nweetObj, userObj]);\r\nconst onLikeBtnClick = async () => {\r\n    if(nweetObj.reNweet.includes(authService.currentUser.uid, 0)) {\r\n        await dbService.doc(`nweets/${nweetObj.id}`).update({\r\n        like: dbStore.FieldValue.arrayRemove(`${authService.currentUser.uid}`)\r\n        })\r\n        return;\r\n    }\r\n    await dbService.doc(`nweets/${nweetObj.id}`).update({\r\n        like: dbStore.FieldValue.arrayUnion(`${authService.currentUser.uid}`)\r\n    })\r\n};\r\nconst onReNweetBtnClick = async () => {\r\n    if(nweetObj.reNweet.includes(authService.currentUser.uid, 0)) {\r\n        await dbService.doc(`nweets/${nweetObj.id}`).update({\r\n        reNweet: dbStore.FieldValue.arrayRemove(`${authService.currentUser.uid}`)\r\n        })\r\n        return;\r\n    }\r\n    await dbService.doc(`nweets/${nweetObj.id}`).update({\r\n        reNweet: dbStore.FieldValue.arrayUnion(`${authService.currentUser.uid}`)\r\n    })\r\n};\r\nconst onFollowBtnClick = async () => {\r\n    const followingRef = dbService.doc(`userInfo/${userObj.uid}`);\r\n    followingRef.get()\r\n    .then(async (doc) => {\r\n        const isFollowing = doc.data().following;\r\n        if(!isFollowing.includes(nweetObj.createrId, 0)){\r\n            await dbService.doc(`userInfo/${userObj.uid}`).update({\r\n                following: dbStore.FieldValue.arrayUnion(`${nweetObj.createrId}`)\r\n            })\r\n            await dbService.doc(`userInfo/${nweetObj.createrId}`).update({\r\n                follower: dbStore.FieldValue.arrayUnion(`${userObj.uid}`)\r\n            })\r\n            alert(\"팔로우 성공!\");\r\n        }\r\n        if(isFollowing.includes(nweetObj.createrId, 0)){\r\n            await dbService.doc(`userInfo/${userObj.uid}`).update({\r\n                following: dbStore.FieldValue.arrayRemove (`${nweetObj.createrId}`)\r\n            })\r\n            await dbService.doc(`userInfo/${nweetObj.createrId}`).update({\r\n                follower: dbStore.FieldValue.arrayRemove(`${userObj.uid}`)\r\n            })\r\n            alert(\"팔로우 해제!\");\r\n        }\r\n    });\r\n};\r\n  const onMenuClick = () => {\r\n    setMenuOn(prev => !prev);\r\n  };\r\n  return(\r\n     <div className=\"nweet_wrapper\">\r\n        <div className=\"nweet\">\r\n          <div className=\"nweet_left\">\r\n            <img src={nweetObj.profile} alt=\"img\" />\r\n          </div>\r\n          <div className=\"nweet_right\">\r\n            <div className=\"nweet_right_top\">\r\n              <div className=\"nweet_info\">\r\n                <span className=\"nweet_info_displayName\">{nweetObj.displayName}</span>\r\n                <span className=\"nweet_info_userId\">{userId[0]}</span>\r\n                <span className=\"block\">·</span>\r\n                <span className=\"nweet_info_timeAgo\">{time}</span>\r\n              </div>\r\n              <div className=\"nweet_menu_wrapper\">\r\n                <button className=\"nweet_menu\" onClick={onMenuClick}>메뉴</button>\r\n                {\r\n                  menuOn && <button>이 유저에게 관심없음</button>\r\n                }\r\n              </div>\r\n            </div>\r\n            <div className=\"nweet_right_center\">\r\n              <h4 className=\"nweet_content\">{nweetObj.text}</h4>\r\n              {nweetObj.attachmentUrl && (\r\n                <div className=\"nweet_content_img_wrapper\">\r\n                  <img src={nweetObj.attachmentUrl} alt=\"img\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"nweet_right_bottom\">\r\n              <div className=\"nweet_right_bottom_like\" onClick={onLikeBtnClick}>\r\n                <svg viewBox=\"0 0 24 24\" \r\n                  aria-hidden=\"true\" >\r\n                  <g>\r\n                    <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\">\r\n                    </path>\r\n                  </g>\r\n                </svg>\r\n                <span>{nweetObj.like.length}</span>\r\n              </div>\r\n              <div className=\"nweet_right_bottom_reNweet\" onClick={onReNweetBtnClick}>\r\n                <svg viewBox=\"0 0 24 24\" \r\n                aria-hidden=\"true\" >\r\n                  <g>\r\n                    <path d=\"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z\">\r\n                    </path>\r\n                  </g>\r\n                </svg>\r\n                <span>{nweetObj.reNweet.length}</span>\r\n              </div>\r\n            <div className=\"nweet_right_bottom_follow\" onClick={onFollowBtnClick}>\r\n              <svg viewBox=\"0 0 20 20\">\r\n\t              <path d=\"M18.258,3.266c-0.693,0.405-1.46,0.698-2.277,0.857c-0.653-0.686-1.586-1.115-2.618-1.115c-1.98,0-3.586,1.581-3.586,3.53c0,0.276,0.031,0.545,0.092,0.805C6.888,7.195,4.245,5.79,2.476,3.654C2.167,4.176,1.99,4.781,1.99,5.429c0,1.224,0.633,2.305,1.596,2.938C2.999,8.349,2.445,8.19,1.961,7.925C1.96,7.94,1.96,7.954,1.96,7.97c0,1.71,1.237,3.138,2.877,3.462c-0.301,0.08-0.617,0.123-0.945,0.123c-0.23,0-0.456-0.021-0.674-0.062c0.456,1.402,1.781,2.422,3.35,2.451c-1.228,0.947-2.773,1.512-4.454,1.512c-0.291,0-0.575-0.016-0.855-0.049c1.588,1,3.473,1.586,5.498,1.586c6.598,0,10.205-5.379,10.205-10.045c0-0.153-0.003-0.305-0.01-0.456c0.7-0.499,1.308-1.12,1.789-1.827c-0.644,0.28-1.334,0.469-2.06,0.555C17.422,4.782,17.99,4.091,18.258,3.266\">\r\n                </path>\r\n\t            </svg>\r\n              {tt ? (\r\n                <span>-</span>\r\n                ) : (\r\n                <span>+</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n  );\r\n};\r\n\r\nexport default SearchNweet;","import SearchNweet from \"components/SearchNweet\";\r\nimport { dbService } from \"fbase\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport \"./Search.css\"\r\n\r\nconst Search = ({ userObj }) => {\r\n  const [nweets, setNweets] = useState([]);\r\n  useEffect(() => {\r\n    const searchWordRef = window.localStorage.getItem(\"최근검색\");\r\n    const searchResultRef = dbService.collection(\"nweets\");\r\n    const query = searchResultRef.where(\"text\", \"=\", `${searchWordRef}`);\r\n    query.onSnapshot((snapshot) => {\r\n       const nweetInfoObj = snapshot.docs.map((doc) => ({\r\n        id:doc.id,\r\n        ...doc.data(),\r\n      }));\r\n      console.log(nweetInfoObj);\r\n      setNweets(nweetInfoObj); \r\n    }); \r\n  }, []);\r\n  return(\r\n  <div className=\"search\">\r\n    <div className=\"search_wrapper\">\r\n      <div className=\"search_bar_wrapper\">\r\n        <div className=\"search_bar\">\r\n          <span>찾기</span>\r\n          <span>★</span>\r\n        </div>\r\n      </div>\r\n      {nweets.map((nweet) => \r\n        <SearchNweet \r\n        key={nweet.id}\r\n        nweetObj={nweet}\r\n        userObj={userObj}\r\n        />\r\n    )}\r\n    </div>\r\n  </div>\r\n    );\r\n};\r\n\r\nexport default Search;","import { HashRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport Profile from \"routes/Profile\";\r\nimport Home from \"../routes/Home\";\r\nimport FirstScreen from \"../routes/FirstScreen\";\r\nimport Navigation from \"../routes/Navigation\";\r\nimport Aside from \"routes/Aside\";\r\nimport Verified from \"routes/Verified\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Search from \"routes/Search\";\r\n\r\nconst AppRouter = ({ refreshUser, isLoggedIn, userObj }) => {\r\n    const [verifying, setVeyrifying] = useState(false);\r\n    const [notWatching, setNotWatching] = useState(true);\r\n    useEffect(() => {\r\n        const emailsended = JSON.parse(window.localStorage.getItem(\"sendMail\"));\r\n        if(emailsended === null || emailsended === undefined || emailsended === false) {\r\n            return;\r\n        } else {\r\n            setVeyrifying(true);\r\n        }\r\n    }, [verifying]);\r\n    return(\r\n    <Router>\r\n        {isLoggedIn && notWatching &&<Navigation userObj={userObj} />}\r\n        <Switch>\r\n            {verifying &&\r\n            <Route exact path=\"/verifying\">\r\n            <Verified setNotWatching={setNotWatching}/>\r\n            </Route>\r\n            }\r\n            {isLoggedIn ? (\r\n            <>\r\n            <Redirect from=\"/\" to=\"/home\" />\r\n                <Route exact path=\"/home\">\r\n                    <Home userObj={userObj} />\r\n                </Route>\r\n                <Route exact path=\"/profile\">\r\n                    <Profile userObj={userObj} refreshUser={refreshUser} />\r\n                </Route>\r\n                 <Route exact path=\"/search\">\r\n                    <Search userObj={userObj}/>\r\n                </Route>\r\n            </>\r\n            ) : (\r\n                <>\r\n                <Route path=\"*\">\r\n                    <FirstScreen userObj={userObj} isLoggedIn={isLoggedIn} refreshUser={refreshUser}/>\r\n                </Route>\r\n                </>\r\n                )}\r\n        </Switch>\r\n        {isLoggedIn && notWatching && <Aside />}\r\n    </Router>\r\n    );\r\n};\r\n\r\nexport default AppRouter;","import { createGlobalStyle } from \"styled-components\";\r\nimport reset from \"styled-reset\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n${reset};\r\n`;\r\n\r\nexport default GlobalStyle;","import React, { useEffect, useState } from \"react\";\nimport AppRouter from \"components/Router\";\nimport { authService } from \"fbase\";\nimport \"../css/App.css\";\nimport GlobalStyle from \"./GlobalStyle\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if(user){\n        setUserObj({\n          displayName: user.displayName,\n          uid: user.uid,\n          email: user.email,\n          photoURL: user.photoURL,\n          creationTime: user.metadata.creationTime,\n          updateProfile: (args) => user.updateProfile(args),\n        });\n      } else {\n        setUserObj(null);\n      }\n      setInit(true);\n    });\n  }, []);\n  const refreshUser = () =>{\n    const user = authService.currentUser;\n      setUserObj({\n        displayName: user.displayName,\n        uid: user.uid,\n        email: user.email,\n        photoURL: user.photoURL,\n        creationTime: user.metadata.creationTime,\n        updateProfile: (args) => user.updateProfile(args),\n      });\n  };\n  return (\n    <>\n    <GlobalStyle />\n    {init ? <AppRouter refreshUser={refreshUser} isLoggedIn={Boolean(userObj)} userObj={userObj} /> : \"initializing...\" }\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}