(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{48:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c.n(n),a=c(34),s=c.n(a),i=c(3),l=c(17),o=c(8),d=c(7),j=c(6),u=c.n(j),b=c(9),O=c(35),h=c(20);c(46),c(69),c(68);h.a.initializeApp({apiKey:"AIzaSyAw696Lt9grKSMr-_fQysj_us7Zof51flk",authDomain:"nwitter-5e982.firebaseapp.com",projectId:"nwitter-5e982",storageBucket:"nwitter-5e982.appspot.com",messagingSenderId:"994724876832",appId:"1:994724876832:web:41ccc35d8ca60877fb2245"});var f,m=h.a,p=h.a.auth(),x=h.a.firestore(),_=h.a.storage(),v=h.a.firestore,w=c(71),g=(c(48),c(0)),N=function(e){var t=e.userObj,c=e.depthRef,r=e.docId,a=e.commentUserId,s=e.commentUserUid,l=Object(n.useState)(""),o=Object(i.a)(l,2),d=o[0],j=o[1],h=Object(n.useState)(""),f=Object(i.a)(h,2),m=f[0],p=f[1],v=Object(n.useState)(!1),N=Object(i.a)(v,2),y=N[0],k=N[1],I=Object(n.useState)(!1),S=Object(i.a)(I,2),E=S[0],C=S[1],U=Object(n.useState)([]),P=Object(i.a)(U,2),M=P[0],R=P[1],L=Object(n.useRef)(),z=Object(n.useRef)();Object(n.useEffect)((function(){"detail"!==window.location.hash.split("/")[3]||E||C((function(e){return!e}));var e=new MutationObserver((function(e,t){var c,n=Object(O.a)(e);try{for(n.s();!(c=n.n()).done;){var r=c.value;if("characterData"===r.type){var a=z.current.innerText,s=/(^|\B)#([\u314f-\u3163|\uac00-\ud7a3|\u3131-\u314e|a-zA-z0-9]{1,30})/g,i=a.match(s),l=a.replace(s,"");s.test(a)&&R(i),j(l),k(!0)}""===z.current.innerText&&k(!1),"childList"===r.type&&(z.current.hasChildNodes()?k(!0):k(!1))}}catch(o){n.e(o)}finally{n.f()}}));return e.observe(z.current,{characterData:!0,childList:!0,subtree:!0}),function(){e.disconnect()}}),[E]);var B=function(){var e=Object(b.a)(u.a.mark((function e(n){var i,l,o,b,O;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==d){e.next=4;break}return alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!"),e.abrupt("return");case 4:if(i="",l=new Date,""===m){e.next=14;break}return o=_.ref().child("".concat(t.uid,"/nweet_img/").concat(Object(w.a)())),e.next=10,o.putString(m,"data_url");case 10:return b=e.sent,e.next=13,b.ref.getDownloadURL();case 13:i=e.sent;case 14:return O={text:d,createdAt:[l.getTime(),l.getFullYear(),l.getMonth()+1,l.getDate(),l.getHours(),l.getMinutes()],createrId:t.uid,attachmentUrl:i,reNweet:[],like:[],hashTag:M,profile:t.photoURL,displayName:t.displayName,userEmail:t.email,depth:E?c+1:0,docId:E&&r,commentUserId:E&&a[0],commentUserUid:E&&s},e.next=17,x.collection("nweets").add(O);case 17:j(""),p(""),R(""),z.current.innerText="";case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"nweet_factory_right",children:[Object(g.jsxs)("div",{className:"nweet_factory_nweet_wrapper",children:[Object(g.jsx)("div",{className:y?"hidden placeholder":"placeholder",children:E?"\ub0b4 \ub2f5\uae00\uc744 \ud2b8\uc717\ud569\ub2c8\ub2e4":"\ubb34\uc2a8 \uc77c\uc774 \uc77c\uc5b4\ub098\uace0 \uc788\ub098\uc694?"}),Object(g.jsx)("span",{className:"nweet_factory_nweet_text",role:"textbox","aria-multiline":"true",contentEditable:"true",suppressContentEditableWarning:"true",maxLength:"80",htmlFor:"put_text",ref:z})]}),m&&Object(g.jsx)("div",{className:"nweet_factory_attachmentImg",children:Object(g.jsx)("img",{className:"nweet_factory_attachmentImg",src:m,alt:"img"})}),Object(g.jsxs)("form",{onSubmit:B,className:"nweet_factory_form",children:[Object(g.jsx)("textarea",{className:"nweet_factory_nweet_input hidden",placeholder:"\ud2b8\uc717",maxLength:"80",id:"put_text",value:d,onChange:function(){}}),Object(g.jsxs)("div",{className:"nweet_factory_form_bottom",children:[Object(g.jsx)("div",{className:"nweet_factory_choose_img",children:Object(g.jsxs)("label",{htmlFor:"inputt",children:[Object(g.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"icon",children:Object(g.jsxs)("g",{children:[Object(g.jsx)("path",{d:"M19.75 2H4.25C3.01 2 2 3.01 2 4.25v15.5C2 20.99 3.01 22 4.25 22h15.5c1.24 0 2.25-1.01 2.25-2.25V4.25C22 3.01 20.99 2 19.75 2zM4.25 3.5h15.5c.413 0 .75.337.75.75v9.676l-3.858-3.858c-.14-.14-.33-.22-.53-.22h-.003c-.2 0-.393.08-.532.224l-4.317 4.384-1.813-1.806c-.14-.14-.33-.22-.53-.22-.193-.03-.395.08-.535.227L3.5 17.642V4.25c0-.413.337-.75.75-.75zm-.744 16.28l5.418-5.534 6.282 6.254H4.25c-.402 0-.727-.322-.744-.72zm16.244.72h-2.42l-5.007-4.987 3.792-3.85 4.385 4.384v3.703c0 .413-.337.75-.75.75z"}),Object(g.jsx)("circle",{cx:"8.868",cy:"8.309",r:"1.542"})]})}),Object(g.jsx)("input",{id:"inputt",className:"nweet_factory_choosefile hidden",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],c=new FileReader;c.onloadend=function(e){var t=e.currentTarget.result;p(t)},t&&c.readAsDataURL(t)},onClick:function(e){e.target.value=null},ref:L})]})}),Object(g.jsx)("input",{className:y?"nweet_factory_nweet_on":"nweet_factory_nweet_off",type:"submit",value:E?"\ub2f5\uae00":"\ud2b8\uc717\ud558\uae30"})]})]})]})})},y=(c(50),c(51),["title","titleId"]);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var c,n,r=function(e,t){if(null==e)return{};var c,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||(r[c]=e[c]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(r[c]=e[c])}return r}function S(e,t){var c=e.title,r=e.titleId,a=I(e,y);return n.createElement("svg",k({viewBox:"0 0 24 24","aria-hidden":"true",className:"   comment_Icon   ",ref:t,"aria-labelledby":r},a),c?n.createElement("title",{id:r},c):null,f||(f=n.createElement("g",null,n.createElement("path",{d:"M14.046 2.242l-4.148-.01h-.002c-4.374 0-7.8 3.427-7.8 7.802 0 4.098 3.186 7.206 7.465 7.37v3.828c0 .108.044.286.12.403.142.225.384.347.632.347.138 0 .277-.038.402-.118.264-.168 6.473-4.14 8.088-5.506 1.902-1.61 3.04-3.97 3.043-6.312v-.017c-.006-4.367-3.43-7.787-7.8-7.788zm3.787 12.972c-1.134.96-4.862 3.405-6.772 4.643V16.67c0-.414-.335-.75-.75-.75h-.396c-3.66 0-6.318-2.476-6.318-5.886 0-3.534 2.768-6.302 6.3-6.302l4.147.01h.002c3.532 0 6.3 2.766 6.302 6.296-.003 1.91-.942 3.844-2.514 5.176z"}))))}var E,C=n.forwardRef(S),U=(c.p,["title","titleId"]);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var c,n,r=function(e,t){if(null==e)return{};var c,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||(r[c]=e[c]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(r[c]=e[c])}return r}function R(e,t){var c=e.title,r=e.titleId,a=M(e,U);return n.createElement("svg",P({viewBox:"0 0 24 24","aria-hidden":"true",className:"reNweeted",ref:t,"aria-labelledby":r},a),c?n.createElement("title",{id:r},c):null,E||(E=n.createElement("g",null,n.createElement("path",{d:"M23.615 15.477c-.47-.47-1.23-.47-1.697 0l-1.326 1.326V7.4c0-2.178-1.772-3.95-3.95-3.95h-5.2c-.663 0-1.2.538-1.2 1.2s.537 1.2 1.2 1.2h5.2c.854 0 1.55.695 1.55 1.55v9.403l-1.326-1.326c-.47-.47-1.23-.47-1.697 0s-.47 1.23 0 1.697l3.374 3.375c.234.233.542.35.85.35s.613-.116.848-.35l3.375-3.376c.467-.47.467-1.23-.002-1.697zM12.562 18.5h-5.2c-.854 0-1.55-.695-1.55-1.55V7.547l1.326 1.326c.234.235.542.352.848.352s.614-.117.85-.352c.468-.47.468-1.23 0-1.697L5.46 3.8c-.47-.468-1.23-.468-1.697 0L.388 7.177c-.47.47-.47 1.23 0 1.697s1.23.47 1.697 0L3.41 7.547v9.403c0 2.178 1.773 3.95 3.95 3.95h5.2c.664 0 1.2-.538 1.2-1.2s-.535-1.2-1.198-1.2z"}))))}var L,z=n.forwardRef(R),B=(c.p,["title","titleId"]);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var c,n,r=function(e,t){if(null==e)return{};var c,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||(r[c]=e[c]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(r[c]=e[c])}return r}function V(e,t){var c=e.title,r=e.titleId,a=F(e,B);return n.createElement("svg",A({viewBox:"0 0 24 24","aria-hidden":"true",className:"unReNweeted",ref:t,"aria-labelledby":r},a),c?n.createElement("title",{id:r},c):null,L||(L=n.createElement("g",null,n.createElement("path",{d:"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z"}))))}var T,D=n.forwardRef(V),H=(c.p,["title","titleId"]);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function W(e,t){if(null==e)return{};var c,n,r=function(e,t){if(null==e)return{};var c,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||(r[c]=e[c]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(r[c]=e[c])}return r}function G(e,t){var c=e.title,r=e.titleId,a=W(e,H);return n.createElement("svg",q({className:"liked",viewBox:"0 0 24 24","aria-hidden":"true",ref:t,"aria-labelledby":r},a),c?n.createElement("title",{id:r},c):null,T||(T=n.createElement("g",null,n.createElement("path",{d:"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z"}))))}var J,K=n.forwardRef(G),Y=(c.p,["title","titleId"]);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var c,n,r=function(e,t){if(null==e)return{};var c,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||(r[c]=e[c]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(r[c]=e[c])}return r}function Z(e,t){var c=e.title,r=e.titleId,a=X(e,Y);return n.createElement("svg",Q({className:"unliked",viewBox:"0 0 24 24","aria-hidden":"true",ref:t,"aria-labelledby":r},a),c?n.createElement("title",{id:r},c):null,J||(J=n.createElement("g",null,n.createElement("path",{d:"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z"}))))}var $,ee=n.forwardRef(Z),te=(c.p,["title","titleId"]);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var c,n,r=function(e,t){if(null==e)return{};var c,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||(r[c]=e[c]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(r[c]=e[c])}return r}function re(e,t){var c=e.title,r=e.titleId,a=ne(e,te);return n.createElement("svg",ce({viewBox:"0 0 24 24","aria-hidden":"true",className:"sharelink",ref:t,"aria-labelledby":r},a),c?n.createElement("title",{id:r},c):null,$||($=n.createElement("g",null,n.createElement("path",{d:"M17.53 7.47l-5-5c-.293-.293-.768-.293-1.06 0l-5 5c-.294.293-.294.768 0 1.06s.767.294 1.06 0l3.72-3.72V15c0 .414.336.75.75.75s.75-.336.75-.75V4.81l3.72 3.72c.146.147.338.22.53.22s.384-.072.53-.22c.293-.293.293-.767 0-1.06z"}),n.createElement("path",{d:"M19.708 21.944H4.292C3.028 21.944 2 20.916 2 19.652V14c0-.414.336-.75.75-.75s.75.336.75.75v5.652c0 .437.355.792.792.792h15.416c.437 0 .792-.355.792-.792V14c0-.414.336-.75.75-.75s.75.336.75.75v5.652c0 1.264-1.028 2.292-2.292 2.292z"}))))}var ae,se=n.forwardRef(re),ie=(c.p,function(e){var t=e.text,c=e.onClick;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("span",{className:"nweet_delete_nweet",onClick:c,children:t})})}),le=function(e){var t=e.menuData,c=e.setMenuOn;Object(n.useEffect)((function(){var e=function(e){e.target.classList.contains("nweet_drop_down")||e.target.classList.contains("nweet_delete_nweet")||c((function(e){return Object(d.a)(Object(d.a)({},e),{},{kebab:!1,share:!1})}))};return document.body.addEventListener("mousedown",e),function(){document.body.removeEventListener("mousedown",e)}}),[]);return Object(g.jsx)("div",{onClick:function(e){e.stopPropagation()},className:"nweet_drop_down",children:Object(g.jsx)("div",{className:"nweet_drop_menu",children:t.map((function(e){return Object(g.jsx)(ie,{text:e.text,onClick:e.onClick},e.id)}))})})},oe=Object(n.memo)((function(e){var t=e.isReNweet,c=e.nweetObj,r=e.isOwner,a=e.reNweeter,s=e.userObj,j=e.setCopyed,O=Object(n.useState)({kebab:!1,share:!1}),h=Object(i.a)(O,2),f=h[0],m=h[1],w=Object(n.useState)(!1),N=Object(i.a)(w,2),y=N[0],k=N[1],I=Object(n.useState)(!1),S=Object(i.a)(I,2),E=S[0],U=S[1],P=Object(n.useState)(""),M=Object(i.a)(P,2),R=M[0],L=M[1],B=Object(n.useState)(""),A=Object(i.a)(B,2),F=A[0],V=A[1],T=Object(n.useState)(0),H=Object(i.a)(T,2),q=H[0],W=H[1],G=Object(n.useRef)(null),J=Object(o.g)();Object(n.useEffect)((function(){x.collection("nweets").where("docId","==","".concat(c.id)).onSnapshot((function(e){var t=e.size;t>0&&W(t)})),c.like.includes(s.uid)&&k(!0),c.reNweet.includes(s.uid)&&U(!0);var e=(new Date).getTime(),t=Math.floor((e-c.createdAt[0])/1e3);t>2592e3?V("".concat(Math.floor(t/2592e3),"\ub2ec \uc804")):t>604800?V("".concat(Math.floor(t/604800),"\uc8fc \uc804")):t>86400?V("".concat(Math.floor(t/86400),"\uc77c \uc804")):t>3600?V("".concat(Math.floor(t/3600),"\uc2dc\uac04 \uc804")):t>60?V("".concat(Math.floor(t/60),"\ubd84")):0===t?V("\ub530\ub048\ub530\ub048"):60>=t&&V("".concat(t,"\ucd08 \uc804"));var n=c.userEmail.split("@");R||L(n)}),[]);var Y=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?(\ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.)")){e.next=8;break}return e.next=5,x.doc("nweets/".concat(c.id)).delete();case 5:if(""===c.attachmentUrl){e.next=8;break}return e.next=8,_.refFromURL(c.attachmentUrl).delete();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!c.like.includes(p.currentUser.uid,0)){e.next=6;break}return e.next=4,x.doc("nweets/".concat(c.id)).update({like:v.FieldValue.arrayRemove("".concat(p.currentUser.uid))});case 4:return k(!1),e.abrupt("return");case 6:return e.next=8,x.doc("nweets/".concat(c.id)).update({like:v.FieldValue.arrayUnion("".concat(p.currentUser.uid))});case 8:k(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!c.reNweet.includes(p.currentUser.uid,0)){e.next=6;break}return e.next=4,x.doc("nweets/".concat(c.id)).update({reNweet:v.FieldValue.arrayRemove("".concat(p.currentUser.uid))});case 4:return U(!1),e.abrupt("return");case 6:return e.next=8,x.doc("nweets/".concat(c.id)).update({reNweet:v.FieldValue.arrayUnion("".concat(p.currentUser.uid))});case 8:U(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(e){e.stopPropagation(),"SPAN"===e.target.nodeName?m((function(e){return Object(d.a)(Object(d.a)({},e),{},{kebab:!0,share:!1})})):m((function(e){return Object(d.a)(Object(d.a)({},e),{},{kebab:!1,share:!0})}))},$=function(e){e.stopPropagation()};return Object(g.jsxs)("div",{className:"nweet_wrapper",children:[t&&Object(g.jsx)("div",{className:"nweet_renweet",children:Object(g.jsxs)("span",{children:[a,"\ub2d8\uc774 \ub9ac\ud2b8\uc717 \ud568"]})}),Object(g.jsxs)("div",{className:"nweet",onClick:function(e){if("svg"!==e.target.nodeName){var t="/user/".concat(c.createrId,"/detail/").concat(c.id);J.push(t)}},children:[Object(g.jsx)("div",{className:"nweet_left",children:Object(g.jsx)(l.b,{to:"/user/".concat(c.createrId),onClick:$,children:Object(g.jsx)("img",{className:"nweet_profile_img",src:c.profile,alt:"img"})})}),Object(g.jsxs)("div",{className:"nweet_right",children:[Object(g.jsxs)("div",{className:"nweet_right_top",children:[Object(g.jsxs)("div",{className:"nweet_info",children:[Object(g.jsx)("span",{className:"nweet_info_displayName",children:Object(g.jsx)(l.b,{to:"/user/".concat(c.createrId),onClick:$,children:c.displayName})}),Object(g.jsxs)("span",{className:"nweet_info_userId",children:["@",R[0]]}),Object(g.jsx)("span",{className:"block",children:"\xb7"}),Object(g.jsx)("span",{className:"nweet_info_timeAgo",children:F})]}),Object(g.jsxs)("div",{className:"nweet_menu_wrapper",children:[Object(g.jsx)("span",{className:"nweet_menu",onClick:Z,children:"\u2022\u2022\u2022"}),f.kebab&&r&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(le,{menuData:[{text:"\uc774 \ud2b8\uc717 \uc0ad\uc81c\ud558\uae30",onClick:Y,id:1},{text:"\uc774 \ud2b8\uc717 \ub561\ub561\ud558\uae30",id:2}],setMenuOn:m})}),f.kebab&&!r&&Object(g.jsx)(le,{menuData:[{text:"\uc774 \ud2b8\uc717 \uad00\uc2ec\uc5c6\uc74c",id:3},{text:"\uc774 \uc720\uc800 \ucc28\ub2e8\ud558\uae30",id:4}],setMenuOn:m})]})]}),c.commentUserUid&&Object(g.jsxs)("div",{className:"nweet_right_comment",children:[Object(g.jsx)(l.b,{to:"/user/".concat(c.commentUserUid),onClick:$,children:Object(g.jsxs)("span",{className:"nweet_commented_id",children:["@",c.commentUserId]})}),Object(g.jsx)("span",{className:"nweet_commented_text",children:"\ub2d8\uc5d0\uac8c \ubcf4\ub0b4\ub294 \ub2f5\uae00"})]}),Object(g.jsxs)("div",{className:"nweet_right_center",children:[Object(g.jsx)("div",{className:"nweet_content",children:c.text}),c.hashTag&&Object(g.jsx)("span",{className:"nweet_hashtag",children:c.hashTag}),c.attachmentUrl&&Object(g.jsx)("div",{className:"nweet_content_img_wrapper",children:Object(g.jsx)(l.b,{to:c.attachmentUrl,children:Object(g.jsx)("img",{src:c.attachmentUrl,alt:"img"})})})]}),Object(g.jsxs)("div",{className:"nweet_right_bottom",children:[Object(g.jsxs)("div",{className:"nweet_right_bottom_comment nweet_icon_menus",children:[Object(g.jsx)(C,{}),Object(g.jsx)("span",{children:q})]}),Object(g.jsxs)("div",{className:"nweet_right_bottom_reNweet nweet_icon_menus",onClick:X,children:[E?Object(g.jsx)(z,{}):Object(g.jsx)(D,{}),Object(g.jsx)("span",{children:c.reNweet.length})]}),Object(g.jsxs)("div",{className:"nweet_right_bottom_like nweet_icon_menus",onClick:Q,children:[y?Object(g.jsx)(K,{}):Object(g.jsx)(ee,{}),Object(g.jsx)("span",{children:c.like.length})]}),Object(g.jsxs)("div",{className:"nweet_right_bottom_share nweet_icon_menus",onClick:Z,children:[Object(g.jsx)(se,{}),f.share&&Object(g.jsx)(le,{menuData:[{text:"\ud2b8\uc717 \ub9c1\ud06c \ubcf5\uc0ac\ud558\uae30",onClick:function(){navigator.clipboard.writeText("loevray.github.io/nwitter/#/user/".concat(c.createrId,"/detail/").concat(c.id)).then((function(){j((function(e){return!e})),console.log("succes"),m((function(e){return Object(d.a)(Object(d.a)({},e),{},{kebab:!1,share:!1})})),G.current=setTimeout((function(){j(!1)}),3500)}))},id:5},{text:"\ub2e4\uc74c\uc744 \ud1b5\ud574 \ud2b8\uc717 \uacf5\uc720\ud558\uae30",id:6}],setMenuOn:m})]})]})]})]})]})})),de=Object(n.memo)((function(e){var t=e.nweetObj,c=e.isOwner,r=e.userObj,a=e.followOnly,s=e.isDepthEqual,l=e.setCopyed,o=Object(n.useState)(!1),d=Object(i.a)(o,2),j=d[0],O=d[1],h=Object(n.useState)(!1),f=Object(i.a)(h,2),m=f[0],p=f[1],_=Object(n.useState)(""),v=Object(i.a)(_,2),w=v[0],N=v[1];return Object(n.useEffect)((function(){x.doc("userInfo/".concat(r.uid)).get().then(function(){var e=Object(b.a)(u.a.mark((function e(c){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=c.data().following).includes(t.createrId,0)&&O(!0),t.reNweet.length>0&&(r=t.reNweet.filter((function(e){return n.includes(e)}))).length>0&&(p(!0),x.doc("userInfo/".concat(r[0])).get().then((function(e){var t=e.data().displayName;N(t)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(g.jsx)(g.Fragment,{children:a&&(j||m)?Object(g.jsx)(oe,{isReNweet:m,nweetObj:t,isOwner:c,reNweeter:w,userObj:r,setCopyed:l}):!a&&s&&Object(g.jsx)(oe,{setCopyed:l,nweetObj:t,isOwner:c,userObj:r},t.id)})})),je=function(e){var t=e.userObj,c=Object(n.useState)([]),r=Object(i.a)(c,2),a=r[0],s=r[1],l=Object(n.useState)(!1),o=Object(i.a)(l,2),j=o[0],u=o[1],b=Object(n.useState)(!1),O=Object(i.a)(b,2),h=O[0],f=O[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),_=p[0],v=p[1],w=Object(n.useRef)(),y=Object(n.useRef)();Object(n.useEffect)((function(){x.collection("nweets").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));t&&s(t)}));var e=function(e){w.current.contains(e.target)||u(!1)};return document.body.addEventListener("mousedown",e),function(){x.collection("nweets").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));s(t)}))(),document.body.removeEventListener("mousedown",e)}}),[]);return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"home_center",children:Object(g.jsxs)("div",{className:"home_center_wrapper",children:[Object(g.jsxs)("div",{className:"home_center_homebar_wrapper",children:[Object(g.jsxs)("div",{className:"home_center_homebar",onClick:function(){y.current.scrollIntoView(!1)},children:[h?Object(g.jsx)("span",{children:"\ud314\ub85c\uc6cc\ub9cc"}):Object(g.jsx)("span",{children:"\ud648"}),Object(g.jsx)("span",{onClick:function(e){e.stopPropagation(),u(!0)},className:"star",children:"\u2605"})]}),Object(g.jsxs)("div",{ref:w,className:j?"home_center_homebar_menu":"hidden",children:[Object(g.jsx)("div",{className:"home_center_homebar_menu_top",children:h?Object(g.jsx)("span",{children:"\uc774\uacf3\uc5d0\uc11c\ub294 \ud314\ub85c\uc6b0\ud55c \uc0ac\ub78c\uc758 \ud2b8\uc717\ub9cc \ubcf4\uc785\ub2c8\ub2e4."}):Object(g.jsx)("span",{children:"\ud648\uc5d0\uc11c\ub294 \ubaa8\ub4e0 \ud2b8\uc717\uc774 \ubcf4\uc785\ub2c8\ub2e4."})}),Object(g.jsxs)("div",{onClick:function(){f((function(e){return!e}))},className:"home_center_homebar_menu_bottom",children:[Object(g.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"",children:Object(g.jsx)("g",{children:Object(g.jsx)("path",{d:"M21 16.25H4.81l3.22-3.22c.294-.293.294-.768 0-1.06s-.767-.294-1.06 0l-4.5 4.5c-.293.292-.293.767 0 1.06l4.5 4.5c.146.146.338.22.53.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.22-3.22H21c.414 0 .75-.337.75-.75s-.336-.75-.75-.75zM3 7.75h16.19l-3.22 3.22c-.294.293-.294.768 0 1.06.145.147.337.22.53.22s.383-.072.53-.22l4.5-4.5c.292-.292.292-.767 0-1.06l-4.5-4.5c-.294-.293-.77-.293-1.062 0s-.293.768 0 1.06l3.22 3.22H3c-.414 0-.75.336-.75.75s.336.75.75.75z"})})}),Object(g.jsxs)("div",{className:"home_center_homebar_menu_bottom_text",children:[h?Object(g.jsx)("span",{children:"\ubaa8\ub4e0 \ud2b8\uc717 \ubcf4\uae30."}):Object(g.jsx)("span",{children:"\ud314\ub85c\uc6cc\ub9cc \ubcf4\uae30."}),Object(g.jsx)("span",{className:"ola",children:"\uc62c\ub77c\uc624\ub294 \uc21c\uc11c\ub300\ub85c \ud45c\uc2dc\ub429\ub2c8\ub2e4."})]})]})]})]}),Object(g.jsxs)("div",{className:"home_center_nweet_wrapper",ref:y,children:[Object(g.jsx)("div",{className:"home_center_nweet_profile_img",children:Object(g.jsx)("img",{src:t.photoURL,alt:"img"})}),Object(g.jsx)(N,{userObj:t})]}),Object(g.jsxs)("div",{className:"home_center_bottom",children:[Object(g.jsx)("div",{className:"nweets",children:a.map((function(e){return Object(g.jsx)(de,{nweetObj:e,isOwner:e.createrId===t.uid,userObj:t,followOnly:h,isDepthEqual:0===e.depth,setCopyed:v},e.id)}))}),_&&Object(g.jsx)("div",{className:"home_copy_message",children:Object(g.jsx)("span",{children:"\ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac\ud568"})})]})]})})})},ue=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),s=Object(i.a)(a,2),l=s[0],d=s[1],j=Object(o.g)(),O=function(e){var t=e.target,c=t.name,n=t.value;"login_email"===c?r(n):"login_password"===c&&d(n)},h=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p.signInWithEmailAndPassword(c,l);case 4:j.push("/home"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"login_form_wrapper",children:Object(g.jsxs)("form",{onSubmit:h,className:"login_form",children:[Object(g.jsx)("input",{className:"login_form_id",name:"login_email",type:"text",placeholder:"Email",value:c,onChange:O,autoComplete:"username",required:!0}),Object(g.jsx)("input",{className:"login_form_password",name:"login_password",type:"password",placeholder:"Password",value:l,onChange:O,autoComplete:"current-password",required:!0}),Object(g.jsx)("input",{className:"login_form_submit",type:"submit",value:"Log In",required:!0})]})})})},be=function(){var e=Object(o.g)(),t=function(){var t=Object(b.a)(u.a.mark((function t(c){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"google"===(n=c.target.name)?(r=new m.auth.GoogleAuthProvider).setCustomParameters({prompt:"select_account"}):"github"===n&&(r=new m.auth.GithubAuthProvider),t.next=4,p.signInWithPopup(r).then(function(){var e=Object(b.a)(u.a.mark((function e(t){var c,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.additionalUserInfo.isNewUser){e.next=7;break}return c=p.currentUser,n={follower:[],following:[],displayName:c.displayName,email:c.email,photoUrl:c.photoURL},r=x.collection("userInfo"),e.next=7,r.doc("".concat(t.user.uid)).set(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.push("/home");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{onClick:t,name:"google",children:"Login with Google"}),Object(g.jsx)("button",{onClick:t,name:"github",children:"Login with Github"})]})},Oe=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"register",children:[Object(g.jsx)(ue,{}),Object(g.jsx)("div",{className:"social_links",children:Object(g.jsx)(be,{})})]})})},he=(c(56),function(e){var t=e.setSignUp,c=e.refreshUser,r=Object(n.useState)(""),a=Object(i.a)(r,2),s=a[0],l=a[1],d=Object(n.useState)(""),j=Object(i.a)(d,2),O=j[0],h=j[1],f=Object(o.g)(),m=function(e){var t=e.target,c=t.name,n=t.value;"register_email"===c?l(n):"register_password"===c&&h(n)},v=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p.createUserWithEmailAndPassword(s,O).then(function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,a,s,i,l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",r=t.user,a=_.ref().child("userDeafultSet/profile_img/userprofile.png"),e.next=5,a.getDownloadURL();case 5:return n=e.sent,e.next=8,r.updateProfile({photoURL:n});case 8:if(null!==r.displayName){e.next=13;break}return s=r.email,i=s.split("@"),e.next=13,r.updateProfile({displayName:i[0]});case 13:return l={follower:[],following:[],displayName:r.displayName,email:r.email,photoUrl:r.photoURL},o=x.collection("userInfo"),e.next=17,o.doc("".concat(t.user.uid)).set(l);case 17:c(),f.push("/home");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("\uc5d0\ub7ec:",e)}));case 4:p.languageCode="ko",e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.message,"\uc5d0\ub7ec!"),window.location.replace("/");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{children:"\ud68c\uc6d0 \uac00\uc785"}),Object(g.jsxs)("form",{onSubmit:v,className:"register_form",children:[Object(g.jsx)("input",{className:"register_form_id",name:"register_email",type:"text",placeholder:"Email",autoComplete:"off",value:s,onChange:m,required:!0}),Object(g.jsx)("input",{className:"register_form_password",name:"register_password",type:"password",placeholder:"Password",autoComplete:"new-password",value:O,onChange:m,required:!0}),Object(g.jsx)("input",{className:"register_form_submit",type:"submit",value:"Register",required:!0})]}),Object(g.jsx)("button",{onClick:function(){t(!1)},children:"\ub2eb\uae30"})]})}),fe=function(){return Object(g.jsxs)("footer",{className:"footer",children:["\uc18c\uac1c \uace0\uac1d\uc13c\ud130 \uc774\uc6a9\uc57d\uad00 \uac1c\uc778\uc815\ubcf4 \ucc98\ub9ac\ubc29\uce68 \ucfe0\ud0a4 \uc815\ucc45 \uad11\uace0 \uc815\ubcf4 \ube14\ub85c\uadf8 \uc0c1\ud0dc \ucc44\uc6a9 \ube0c\ub79c\ub4dc \ub9ac\uc18c\uc2a4 \uad11\uace0 \ub9c8\ucf00\ud305 \ube44\uc988\ub2c8\uc2a4\uc6a9 \ud2b8\uc704\ud130 \uac1c\ubc1c\uc790 \ub514\ub809\ud130\ub9ac \uc124\uc815 \xa9",(new Date).getFullYear(),"Nwitter"]})},me=(c(57),function(e){var t=e.refreshUser,c=Object(n.useState)(!1),r=Object(i.a)(c,2),a=r[0],s=r[1],l=Object(n.useRef)();return Object(n.useEffect)((function(){var e=function(e){a&&!l.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[a]),Object(g.jsxs)("div",{className:"main_wrapper_1",children:[a&&Object(g.jsx)("div",{className:"main_modal_wrapper",children:Object(g.jsx)("div",{className:"main_modal",children:Object(g.jsx)("div",{className:"register_wrapper",ref:l,children:Object(g.jsx)(he,{setSignUp:s,refreshUser:t})})})}),Object(g.jsxs)("div",{className:"main_top",children:[Object(g.jsx)("header",{className:"header",children:Object(g.jsx)("div",{className:"birdImg",children:Object(g.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:Object(g.jsx)("g",{children:Object(g.jsx)("path",{d:"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"})})})})}),Object(g.jsxs)("main",{className:"main",children:[Object(g.jsx)("div",{className:"birdImg2_wrapper",children:Object(g.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"birdImg2",children:Object(g.jsx)("g",{children:Object(g.jsx)("path",{d:"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"})})})}),Object(g.jsxs)("div",{className:"main_text_wrapper",children:[Object(g.jsx)("span",{children:"\uc9c0\uae08 \uc77c\uc5b4\ub098\uace0 \uc788\ub294 \uc77c"}),Object(g.jsx)("span",{children:"\uc624\ub298 \u3147\u3147\u3147\uc5d0 \ub85c\uadf8\uc778\ud558\uc138\uc694."})]}),Object(g.jsx)(Oe,{}),Object(g.jsxs)("div",{className:"main_regist_text",children:[Object(g.jsx)("span",{children:"\uacc4\uc815\uc774 \uc544\uc9c1 \uc5c6\uc73c\uc2e0\uac00\uc694?"}),Object(g.jsx)("span",{onClick:function(){s(!0)},className:"sign_up",children:"\uac00\uc785\ud558\uae30"})]})]})]}),Object(g.jsx)("div",{className:"main_bottom",children:Object(g.jsx)(fe,{})})]})}),pe=(c(58),["title","titleId"]);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function _e(e,t){if(null==e)return{};var c,n,r=function(e,t){if(null==e)return{};var c,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||(r[c]=e[c]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(r[c]=e[c])}return r}function ve(e,t){var c=e.title,r=e.titleId,a=_e(e,pe);return n.createElement("svg",xe({viewBox:"0 0 24 24","aria-hidden":"true",className:"nav_home_icon",ref:t,"aria-labelledby":r},a),c?n.createElement("title",{id:r},c):null,ae||(ae=n.createElement("g",null,n.createElement("path",{d:"M22.46 7.57L12.357 2.115c-.223-.12-.49-.12-.713 0L1.543 7.57c-.364.197-.5.652-.303 1.017.135.25.394.393.66.393.12 0 .243-.03.356-.09l.815-.44L4.7 19.963c.214 1.215 1.308 2.062 2.658 2.062h9.282c1.352 0 2.445-.848 2.663-2.087l1.626-11.49.818.442c.364.193.82.06 1.017-.304.196-.363.06-.818-.304-1.016zm-4.638 12.133c-.107.606-.703.822-1.18.822H7.36c-.48 0-1.075-.216-1.178-.798L4.48 7.69 12 3.628l7.522 4.06-1.7 12.015z"}),n.createElement("path",{d:"M8.22 12.184c0 2.084 1.695 3.78 3.78 3.78s3.78-1.696 3.78-3.78-1.695-3.78-3.78-3.78-3.78 1.696-3.78 3.78zm6.06 0c0 1.258-1.022 2.28-2.28 2.28s-2.28-1.022-2.28-2.28 1.022-2.28 2.28-2.28 2.28 1.022 2.28 2.28z"}))))}var we,ge=n.forwardRef(ve),Ne=(c.p,["title","titleId"]);function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function ke(e,t){if(null==e)return{};var c,n,r=function(e,t){if(null==e)return{};var c,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||(r[c]=e[c]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(r[c]=e[c])}return r}function Ie(e,t){var c=e.title,r=e.titleId,a=ke(e,Ne);return n.createElement("svg",ye({viewBox:"0 0 24 24","aria-hidden":"true",className:"nav_home_icon",ref:t,"aria-labelledby":r},a),c?n.createElement("title",{id:r},c):null,we||(we=n.createElement("g",null,n.createElement("path",{d:"M22.58 7.35L12.475 1.897c-.297-.16-.654-.16-.95 0L1.425 7.35c-.486.264-.667.87-.405 1.356.18.335.525.525.88.525.16 0 .324-.038.475-.12l.734-.396 1.59 11.25c.216 1.214 1.31 2.062 2.66 2.062h9.282c1.35 0 2.444-.848 2.662-2.088l1.588-11.225.737.398c.485.263 1.092.082 1.354-.404.263-.486.08-1.093-.404-1.355zM12 15.435c-1.795 0-3.25-1.455-3.25-3.25s1.455-3.25 3.25-3.25 3.25 1.455 3.25 3.25-1.455 3.25-3.25 3.25z"}))))}var Se,Ee=n.forwardRef(Ie),Ce=(c.p,["title","titleId"]);function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function Pe(e,t){if(null==e)return{};var c,n,r=function(e,t){if(null==e)return{};var c,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||(r[c]=e[c]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(r[c]=e[c])}return r}function Me(e,t){var c=e.title,r=e.titleId,a=Pe(e,Ce);return n.createElement("svg",Ue({viewBox:"0 0 24 24","aria-hidden":"true",className:"nav_profile_icon",ref:t,"aria-labelledby":r},a),c?n.createElement("title",{id:r},c):null,Se||(Se=n.createElement("g",null,n.createElement("path",{d:"M12 11.816c1.355 0 2.872-.15 3.84-1.256.814-.93 1.078-2.368.806-4.392-.38-2.825-2.117-4.512-4.646-4.512S7.734 3.343 7.354 6.17c-.272 2.022-.008 3.46.806 4.39.968 1.107 2.485 1.256 3.84 1.256zM8.84 6.368c.162-1.2.787-3.212 3.16-3.212s2.998 2.013 3.16 3.212c.207 1.55.057 2.627-.45 3.205-.455.52-1.266.743-2.71.743s-2.255-.223-2.71-.743c-.507-.578-.657-1.656-.45-3.205zm11.44 12.868c-.877-3.526-4.282-5.99-8.28-5.99s-7.403 2.464-8.28 5.99c-.172.692-.028 1.4.395 1.94.408.52 1.04.82 1.733.82h12.304c.693 0 1.325-.3 1.733-.82.424-.54.567-1.247.394-1.94zm-1.576 1.016c-.126.16-.316.246-.552.246H5.848c-.235 0-.426-.085-.552-.246-.137-.174-.18-.412-.12-.654.71-2.855 3.517-4.85 6.824-4.85s6.114 1.994 6.824 4.85c.06.242.017.48-.12.654z"}))))}var Re,Le=n.forwardRef(Me),ze=(c.p,["title","titleId"]);function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function Ae(e,t){if(null==e)return{};var c,n,r=function(e,t){if(null==e)return{};var c,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||(r[c]=e[c]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)c=a[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(r[c]=e[c])}return r}function Fe(e,t){var c=e.title,r=e.titleId,a=Ae(e,ze);return n.createElement("svg",Be({viewBox:"0 0 24 24","aria-hidden":"true",className:"nav_profile_icon",ref:t,"aria-labelledby":r},a),c?n.createElement("title",{id:r},c):null,Re||(Re=n.createElement("g",null,n.createElement("path",{d:"M12.225 12.165c-1.356 0-2.872-.15-3.84-1.256-.814-.93-1.077-2.368-.805-4.392.38-2.826 2.116-4.513 4.646-4.513s4.267 1.687 4.646 4.513c.272 2.024.008 3.46-.806 4.392-.97 1.106-2.485 1.255-3.84 1.255zm5.849 9.85H6.376c-.663 0-1.25-.28-1.65-.786-.422-.534-.576-1.27-.41-1.968.834-3.53 4.086-5.997 7.908-5.997s7.074 2.466 7.91 5.997c.164.698.01 1.434-.412 1.967-.4.505-.985.785-1.648.785z"}))))}var Ve,Te=n.forwardRef(Fe),De=(c.p,function(e){var t=e.userObj,c=Object(n.useState)({}),r=Object(i.a)(c,2),a=r[0],s=r[1],j=Object(o.g)();Object(n.useEffect)((function(){var e=function(){var e=window.location.hash.split("/");3===e.length&&"user"===e[1]&&!1===a.user&&s((function(e){return Object(d.a)(Object(d.a)({},e),{},{home:!1,user:!0})})),"home"===e[1]&&s((function(e){return Object(d.a)(Object(d.a)({},e),{},{home:!0,user:!1})}))};e(),window.addEventListener("hashchange",e)}),[a.home]);return Object(g.jsx)("nav",{className:"nav",children:Object(g.jsx)("div",{className:"nav_menu_wrapper1",children:Object(g.jsxs)("div",{className:"nav_menu_wrapper2",children:[Object(g.jsxs)("div",{className:"nav_menu",children:[Object(g.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"nav_birdImg2",children:Object(g.jsx)("g",{children:Object(g.jsx)("path",{d:"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"})})}),Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)(l.b,{to:"/home",children:Object(g.jsx)("div",{className:"nav_home_wrapper",children:Object(g.jsxs)("div",{className:"nav_home",children:[a.home?Object(g.jsx)(Ee,{}):Object(g.jsx)(ge,{}),Object(g.jsx)("span",{style:a.home?{fontWeight:"bold"}:null,className:"nav_menu_text_home",children:"\ud648"})]})})})}),Object(g.jsx)("li",{children:Object(g.jsx)(l.b,{to:"/user/".concat(t.uid),children:Object(g.jsx)("div",{className:"nav_profile_wrapper",children:Object(g.jsxs)("div",{className:"nav_profile",children:[a.user?Object(g.jsx)(Te,{}):Object(g.jsx)(Le,{}),Object(g.jsx)("span",{className:"nav_menu_text_profile",style:a.user?{fontWeight:"bold"}:null,children:"\ud504\ub85c\ud544"})]})})})})]})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{onClick:function(){p.signOut(),j.push("/")},children:"Log Out"})})]})})})}),He=function(){return Object(g.jsx)("div",{className:"aside_left_follow_recommend",children:Object(g.jsxs)("div",{className:"aside_left_follow_wrapper",children:[Object(g.jsx)("div",{className:"aside_left_follow_top",children:Object(g.jsx)("span",{children:"\ud314\ub85c\uc6b0 \ucd94\ucc9c"})}),Object(g.jsxs)("div",{className:"aside_left_follow_content",children:[Object(g.jsxs)("div",{className:"follow_content_user",children:[Object(g.jsx)("span",{className:"follow_content_user_img",children:"\uc774\ubbf8\uc9c0"}),Object(g.jsxs)("div",{className:"follow_content_user_info",children:[Object(g.jsx)("span",{children:"\ub2c9\ub124\uc784"}),Object(g.jsx)("span",{children:"\uc544\uc774\ub514"})]})]}),Object(g.jsx)("span",{children:"\ud314\ub85c\uc6b0"})]}),Object(g.jsxs)("div",{className:"aside_left_follow_content",children:[Object(g.jsxs)("div",{className:"follow_content_user",children:[Object(g.jsx)("span",{className:"follow_content_user_img",children:"\uc774\ubbf8\uc9c0"}),Object(g.jsxs)("div",{className:"follow_content_user_info",children:[Object(g.jsx)("span",{children:"\ub2c9\ub124\uc784"}),Object(g.jsx)("span",{children:"\uc544\uc774\ub514"})]})]}),Object(g.jsx)("span",{children:"\ud314\ub85c\uc6b0"})]}),Object(g.jsxs)("div",{className:"aside_left_follow_content",children:[Object(g.jsxs)("div",{className:"follow_content_user",children:[Object(g.jsx)("span",{className:"follow_content_user_img",children:"\uc774\ubbf8\uc9c0"}),Object(g.jsxs)("div",{className:"follow_content_user_info",children:[Object(g.jsx)("span",{children:"\ub2c9\ub124\uc784"}),Object(g.jsx)("span",{children:"\uc544\uc774\ub514"})]})]}),Object(g.jsx)("span",{children:"\ud314\ub85c\uc6b0"})]})]})})},qe=function(e){var t=e.hashTagArray;return Object(g.jsxs)("div",{className:"aside_left_trend_2",children:[Object(g.jsxs)("div",{className:"trend_top",children:[Object(g.jsx)("span",{className:"trend_gray",children:"\ud2b8\ub80c\ub4dc"}),Object(g.jsx)("span",{className:"trend_gray",children:"\u2022\u2022\u2022"})]}),Object(g.jsxs)("div",{className:"trend_remainder",children:[Object(g.jsx)("span",{className:"trend_remainder_hashTag",children:t.hashTag?t.hashTag[0]:"\uc5c6\uc74c"}),Object(g.jsx)("span",{className:"trend_gray",children:"(\ud69f\uc218)"})]})]})},We=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){x.collection("nweets").orderBy("hashTag").orderBy("createdAt","desc").where("hashTag","!=",[]).limit(4).onSnapshot((function(e){if(e.exists)console.log("\ud574\uc26c\ud0dc\uadf8 \ud3ec\ud568\ud55c \ub370\uc774\ud130 \uc5c6\uc74c");else{var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));r(t)}}))}),[]),Object(g.jsx)("div",{className:"aside_left_trend",children:Object(g.jsxs)("div",{className:"aside_left_trend_wrapper",children:[Object(g.jsxs)("div",{className:"aside_left_trend_top",children:[Object(g.jsx)("span",{children:"\ud2b8\ub80c\ub4dc"}),Object(g.jsx)("span",{children:Object(g.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"trend_setting_icon",children:Object(g.jsxs)("g",{children:[Object(g.jsx)("path",{d:"M12 8.21c-2.09 0-3.79 1.7-3.79 3.79s1.7 3.79 3.79 3.79 3.79-1.7 3.79-3.79-1.7-3.79-3.79-3.79zm0 6.08c-1.262 0-2.29-1.026-2.29-2.29S10.74 9.71 12 9.71s2.29 1.026 2.29 2.29-1.028 2.29-2.29 2.29z"}),Object(g.jsx)("path",{d:"M12.36 22.375h-.722c-1.183 0-2.154-.888-2.262-2.064l-.014-.147c-.025-.287-.207-.533-.472-.644-.286-.12-.582-.065-.798.115l-.116.097c-.868.725-2.253.663-3.06-.14l-.51-.51c-.836-.84-.896-2.154-.14-3.06l.098-.118c.186-.222.23-.523.122-.787-.11-.272-.358-.454-.646-.48l-.15-.014c-1.18-.107-2.067-1.08-2.067-2.262v-.722c0-1.183.888-2.154 2.064-2.262l.156-.014c.285-.025.53-.207.642-.473.11-.27.065-.573-.12-.795l-.094-.116c-.757-.908-.698-2.223.137-3.06l.512-.512c.804-.804 2.188-.865 3.06-.14l.116.098c.218.184.528.23.79.122.27-.112.452-.358.477-.643l.014-.153c.107-1.18 1.08-2.066 2.262-2.066h.722c1.183 0 2.154.888 2.262 2.064l.014.156c.025.285.206.53.472.64.277.117.58.062.794-.117l.12-.102c.867-.723 2.254-.662 3.06.14l.51.512c.836.838.896 2.153.14 3.06l-.1.118c-.188.22-.234.522-.123.788.112.27.36.45.646.478l.152.014c1.18.107 2.067 1.08 2.067 2.262v.723c0 1.183-.888 2.154-2.064 2.262l-.155.014c-.284.024-.53.205-.64.47-.113.272-.067.574.117.795l.1.12c.756.905.696 2.22-.14 3.06l-.51.51c-.807.804-2.19.864-3.06.14l-.115-.096c-.217-.183-.53-.23-.79-.122-.273.114-.455.36-.48.646l-.014.15c-.107 1.173-1.08 2.06-2.262 2.06zm-3.773-4.42c.3 0 .593.06.87.175.79.328 1.324 1.054 1.4 1.896l.014.147c.037.4.367.7.77.7h.722c.4 0 .73-.3.768-.7l.014-.148c.076-.842.61-1.567 1.392-1.892.793-.33 1.696-.182 2.333.35l.113.094c.178.148.366.18.493.18.206 0 .4-.08.546-.227l.51-.51c.284-.284.305-.73.048-1.038l-.1-.12c-.542-.65-.677-1.54-.352-2.323.326-.79 1.052-1.32 1.894-1.397l.155-.014c.397-.037.7-.367.7-.77v-.722c0-.4-.303-.73-.702-.768l-.152-.014c-.846-.078-1.57-.61-1.895-1.393-.326-.788-.19-1.678.353-2.327l.1-.118c.257-.31.236-.756-.048-1.04l-.51-.51c-.146-.147-.34-.227-.546-.227-.127 0-.315.032-.492.18l-.12.1c-.634.528-1.55.67-2.322.354-.788-.327-1.32-1.052-1.397-1.896l-.014-.155c-.035-.397-.365-.7-.767-.7h-.723c-.4 0-.73.303-.768.702l-.014.152c-.076.843-.608 1.568-1.39 1.893-.787.326-1.693.183-2.33-.35l-.118-.096c-.18-.15-.368-.18-.495-.18-.206 0-.4.08-.546.226l-.512.51c-.282.284-.303.73-.046 1.038l.1.118c.54.653.677 1.544.352 2.325-.327.788-1.052 1.32-1.895 1.397l-.156.014c-.397.037-.7.367-.7.77v.722c0 .4.303.73.702.768l.15.014c.848.078 1.573.612 1.897 1.396.325.786.19 1.675-.353 2.325l-.096.115c-.26.31-.238.756.046 1.04l.51.51c.146.147.34.227.546.227.127 0 .315-.03.492-.18l.116-.096c.406-.336.923-.524 1.453-.524z"})]})})})]}),Object(g.jsx)("div",{className:"aside_left_trend_center",children:c.map((function(e){return Object(g.jsx)(qe,{hashTagArray:e},e.id)}))}),Object(g.jsx)("div",{className:"aside_left_trend_bot",children:"\ub354\ubcf4\uae30\uc784"})]})})},Ge=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),s=Object(i.a)(a,2),l=s[0],d=s[1],j=Object(n.useState)(!0),u=Object(i.a)(j,2),b=(u[0],u[1]),O=Object(n.useRef)(),h=Object(n.useRef)(),f=Object(o.g)();Object(n.useEffect)((function(){var e=function(e){O.current.contains(e.target)||(r(!1),h.current.style.fill="#787a88")};return document.body.addEventListener("mousedown",e),function(){document.body.removeEventListener("mousedown",e)}}),[]);return Object(g.jsx)("div",{onClick:function(){r(!0),h.current.style.fill="#00acee",null!==window.localStorage.getItem("\ucd5c\uadfc\uac80\uc0c9")&&b(!1)},className:"aside_left_search",children:Object(g.jsxs)("label",{className:c?"label_click":"label_out",ref:O,children:[Object(g.jsx)("div",{className:"aside_left_search_left",children:Object(g.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"aside_left_search_icon",ref:h,children:Object(g.jsx)("g",{children:Object(g.jsx)("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"})})})}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),window.localStorage.setItem("\ucd5c\uadfc\uac80\uc0c9",l),f.push("/search/".concat(l)),d(""),b(!1)},className:"aside_left_search_center",children:[Object(g.jsx)("input",{className:"aside_left_search_input",type:"text",placeholder:"\ud2b8\uc704\ud130 \uac80\uc0c9",value:l,onChange:function(e){d(e.target.value)}}),Object(g.jsx)("input",{type:"submit",value:"\uc81c\ucd9c",className:"hidden"})]}),Object(g.jsx)("div",{className:"aside_left_search_right",children:Object(g.jsx)("span",{onClick:function(){d("")}})})]})})},Je=(c(59),function(){return Object(g.jsx)("div",{className:"aside",children:Object(g.jsxs)("div",{className:"aside_wrapper",children:[Object(g.jsxs)("div",{className:"aside_left",children:[Object(g.jsx)(Ge,{}),Object(g.jsx)(We,{}),Object(g.jsx)(He,{}),Object(g.jsx)("div",{className:"aside_left_footer",children:Object(g.jsxs)("span",{children:["\uc774\uc6a9\uc57d\uad00\xa0 \uac1c\uc778\uc815\ubcf4 \ucc98\ub9ac\ubc29\uce68\xa0 \ucfe0\ud0a4 \uc815\ucc45",Object(g.jsx)("br",{}),"\uad11\uace0 \uc815\ubcf4\xa0 \ub354 \ubcf4\uae30\xa0 \xa9 2021 Twitter, Inc."]})})]}),Object(g.jsx)("div",{className:"aside_right"})]})})}),Ke=(c(60),function(e){var t=e.userObj,c=e.match,r=Object(n.useState)([]),a=Object(i.a)(r,2),s=a[0],l=a[1];return Object(n.useEffect)((function(){return console.log("redner from search"),x.collection("nweets").orderBy("createdAt","desc").onSnapshot((function(e){if(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));if(t){var n=t.filter((function(e){return e.text.includes(c.params.value)}));l(n)}}})),function(){l([])}}),[c.params.value]),Object(g.jsx)("div",{className:"search",children:Object(g.jsxs)("div",{className:"search_wrapper",children:[Object(g.jsx)("div",{className:"search_bar_wrapper",children:Object(g.jsxs)("div",{className:"search_bar",children:[Object(g.jsx)("span",{children:"\ucc3e\uae30"}),Object(g.jsx)("span",{children:"\u2605"})]})}),s.map((function(e){return Object(g.jsx)(oe,{nweetObj:e,userObj:t},e.id)}))]})})}),Ye=(c(61),c(62),c(63),function(e){var t=e.userObj,c=e.refreshUser,r=e.setEdit,a=e.stateMessage,s=Object(n.useState)(t.displayName),l=Object(i.a)(s,2),o=l[0],d=l[1],j=Object(n.useState)(a),O=Object(i.a)(j,2),h=O[0],f=O[1],m=Object(n.useState)(""),p=Object(i.a)(m,2),v=p[0],w=p[1],N=Object(n.useState)(""),y=Object(i.a)(N,2),k=y[0],I=y[1],S=Object(n.useState)(!1),E=Object(i.a)(S,2),C=E[0],U=E[1],P=Object(n.useState)(!1),M=Object(i.a)(P,2),R=M[0],L=M[1],z=function(){var e=Object(b.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.displayName===o){e.next=10;break}return n=x.collection("nweets"),n.where("createrId","==","".concat(t.uid)).get().then((function(e){e.forEach((function(e){n.doc(e.id).update({displayName:o})}))})),e.next=6,t.updateProfile({displayName:o});case 6:r=x.collection("userInfo"),r.doc("".concat(t.uid)).update({displayName:o}),c();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(u.a.mark((function e(n){var r,a,s,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",""===v){e.next=17;break}return a=_.ref().child("".concat(t.uid,"/profile_img/1")),e.next=5,a.putString(v,"data_url");case 5:return s=e.sent,e.next=8,s.ref.getDownloadURL();case 8:return r=e.sent,i=x.collection("nweets"),i.where("createrId","==","".concat(t.uid)).get().then((function(e){e.forEach((function(e){i.doc(e.id).update({profile:r})}))})).catch((function(e){console.log("Error getting documents: ",e)})),e.next=14,t.updateProfile({photoURL:r});case 14:l=x.collection("userInfo"),l.doc("".concat(t.uid)).update({photoUrl:r});case 17:w(""),c();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(u.a.mark((function e(){var c,n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c="",""===k){e.next=12;break}return n=_.ref().child("".concat(t.uid,"/background_img/1")),e.next=5,n.putString(k,"data_url");case 5:return r=e.sent,e.next=8,r.ref.getDownloadURL();case 8:c=e.sent,a=x.collection("userInfo"),a.doc("".concat(t.uid)).update({background:c});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:return e.next=4,B();case 4:return e.next=6,A();case 6:x.collection("userInfo").doc("".concat(t.uid)).update({stateMsg:h}),r(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"edit_profile_menu_wrapper",children:[Object(g.jsxs)("div",{className:"edit_profile_menu_left",children:[Object(g.jsx)("svg",{onClick:function(){r(!1)},className:"edit_profile_Xicon",viewBox:"0 0 20 20",children:Object(g.jsx)("path",{d:"M15.898,4.045c-0.271-0.272-0.713-0.272-0.986,0l-4.71,4.711L5.493,4.045c-0.272-0.272-0.714-0.272-0.986,0s-0.272,0.714,0,0.986l4.709,4.711l-4.71,4.711c-0.272,0.271-0.272,0.713,0,0.986c0.136,0.136,0.314,0.203,0.492,0.203c0.179,0,0.357-0.067,0.493-0.203l4.711-4.711l4.71,4.711c0.137,0.136,0.314,0.203,0.494,0.203c0.178,0,0.355-0.067,0.492-0.203c0.273-0.273,0.273-0.715,0-0.986l-4.711-4.711l4.711-4.711C16.172,4.759,16.172,4.317,15.898,4.045z"})}),Object(g.jsx)("span",{children:"\ud504\ub85c\ud544 \uc218\uc815"})]}),Object(g.jsx)("div",{className:"edit_profile_menu_right",children:Object(g.jsx)("span",{onClick:F,children:" \uc800\uc7a5 "})})]}),Object(g.jsxs)("div",{className:"edit_profile_content",children:[Object(g.jsxs)("div",{className:"edit_profile_top_wrapper",children:[Object(g.jsx)("div",{className:"edit_profile_top_top",children:Object(g.jsxs)("div",{className:"edit_profile_img_wrapper",children:[R?Object(g.jsx)("img",{className:"edit_profile_background_img",src:k,alt:"back"}):null,Object(g.jsxs)("label",{className:"edit_profile_background_label",children:[Object(g.jsxs)("svg",{className:"edit_profile_camera_icon",viewBox:"0 0 20 20",children:[Object(g.jsx)("path",{d:"M9.999,8.472c-1.314,0-2.385,1.069-2.385,2.384c0,1.317,1.07,2.385,2.385,2.385c1.316,0,2.386-1.068,2.386-2.385C12.385,9.541,11.314,8.472,9.999,8.472z M9.999,12.238c-0.76,0-1.38-0.622-1.38-1.382c0-0.761,0.62-1.38,1.38-1.38c0.761,0,1.38,0.62,1.38,1.38C11.379,11.616,10.76,12.238,9.999,12.238z"}),Object(g.jsx)("path",{d:"M15.232,5.375H9.398C9.159,4.366,8.247,3.61,7.174,3.61c-1.073,0-1.985,0.756-2.224,1.765H4.769c-1.246,0-2.259,1.012-2.259,2.257v6.499c0,1.247,1.014,2.259,2.259,2.259h10.464c1.244,0,2.258-1.012,2.258-2.259V7.632C17.49,6.387,16.477,5.375,15.232,5.375z M16.486,14.131c0,0.69-0.564,1.256-1.254,1.256H4.769c-0.692,0-1.256-0.565-1.256-1.256V7.632c0-0.691,0.563-1.254,1.256-1.254H5.39c0.275,0,0.499-0.221,0.502-0.495c0.01-0.7,0.585-1.269,1.282-1.269s1.272,0.569,1.282,1.269c0.003,0.274,0.228,0.495,0.502,0.495h6.275c0.689,0,1.254,0.563,1.254,1.254V14.131z"})]}),Object(g.jsx)("input",{className:"hidden",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],c=new FileReader;c.onloadend=function(e){var t=e.currentTarget.result;I(t)},L(!0),t&&c.readAsDataURL(t)}})]}),Object(g.jsx)("div",{className:"edit_profile_img",children:Object(g.jsxs)("div",{className:"edit_profile_img_circle",children:[Object(g.jsx)("img",{src:C?v:t.photoURL,alt:"profile"}),Object(g.jsxs)("label",{className:"edit_profile_img_label",children:[Object(g.jsxs)("svg",{className:"edit_profile_camera_icon",viewBox:"0 0 20 20",children:[Object(g.jsx)("path",{d:"M9.999,8.472c-1.314,0-2.385,1.069-2.385,2.384c0,1.317,1.07,2.385,2.385,2.385c1.316,0,2.386-1.068,2.386-2.385C12.385,9.541,11.314,8.472,9.999,8.472z M9.999,12.238c-0.76,0-1.38-0.622-1.38-1.382c0-0.761,0.62-1.38,1.38-1.38c0.761,0,1.38,0.62,1.38,1.38C11.379,11.616,10.76,12.238,9.999,12.238z"}),Object(g.jsx)("path",{d:"M15.232,5.375H9.398C9.159,4.366,8.247,3.61,7.174,3.61c-1.073,0-1.985,0.756-2.224,1.765H4.769c-1.246,0-2.259,1.012-2.259,2.257v6.499c0,1.247,1.014,2.259,2.259,2.259h10.464c1.244,0,2.258-1.012,2.258-2.259V7.632C17.49,6.387,16.477,5.375,15.232,5.375z M16.486,14.131c0,0.69-0.564,1.256-1.254,1.256H4.769c-0.692,0-1.256-0.565-1.256-1.256V7.632c0-0.691,0.563-1.254,1.256-1.254H5.39c0.275,0,0.499-0.221,0.502-0.495c0.01-0.7,0.585-1.269,1.282-1.269s1.272,0.569,1.282,1.269c0.003,0.274,0.228,0.495,0.502,0.495h6.275c0.689,0,1.254,0.563,1.254,1.254V14.131z"})]}),Object(g.jsx)("input",{className:"hidden",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files;if(t){var c=t[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;w(t)},U(!0),c&&n.readAsDataURL(c)}}})]})]})})]})}),Object(g.jsx)("div",{className:"edit_profile_top_bot"})]}),Object(g.jsxs)("div",{className:"edit_profile_bottom_wrapper",children:[Object(g.jsx)("div",{className:"edit_profile_nickname_wrapper",children:Object(g.jsxs)("div",{className:"edit_profile_nickname",children:[Object(g.jsx)("span",{children:"\uc774\ub984"}),Object(g.jsx)("input",{onChange:function(e){var t=e.target.value;d(t)},type:"text",value:o})]})}),Object(g.jsx)("div",{className:"edit_profile_state_msg_wrapper",children:Object(g.jsxs)("div",{className:"edit_profile_state_msg",children:[Object(g.jsx)("span",{children:"\uc0c1\ud0dc \uba54\uc138\uc9c0"}),Object(g.jsx)("textarea",{onChange:function(e){var t=e.target.value;f(t)},type:"text",value:h})]})}),"\ud14c\uc2a4\ud2b8\uc6a9",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),"\ud14c\uc2a4\ud2b8\uc6a9",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),"\ud14c\uc2a4\ud2b8\uc6a9",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),"\ud14c\uc2a4\ud2b8\uc6a9",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),"\ud14c\uc2a4\ud2b8\uc6a9",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),"\ud14c\uc2a4\ud2b8\uc6a9",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{})]})]})]})}),Qe=function(e){var t=e.userIdPath,c=e.userObj,r=e.isMyProfile,a=e.refreshUser,s=Object(n.useState)(),l=Object(i.a)(s,2),o=l[0],d=l[1],j=Object(n.useState)(!1),O=Object(i.a)(j,2),h=O[0],f=O[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),_=p[0],w=p[1],N=Object(n.useRef)();Object(n.useEffect)((function(){t&&x.collection("userInfo").doc("".concat(t)).onSnapshot((function(e){if(e.exists){var t=e.data();d(t)}}));x.doc("userInfo/".concat(c.uid)).get().then(function(){var e=Object(b.a)(u.a.mark((function e(c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.data().following.includes(t,0)&&f(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]);var y=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.doc("userInfo/".concat(c.uid)).get().then(function(){var e=Object(b.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.data().following.includes(t,0)){e.next=8;break}return e.next=4,x.doc("userInfo/".concat(c.uid)).update({following:v.FieldValue.arrayUnion("".concat(t))});case 4:return e.next=6,x.doc("userInfo/".concat(t)).update({follower:v.FieldValue.arrayUnion("".concat(c.uid))});case 6:f(!0),alert("\ud314\ub85c\uc6b0 \uc131\uacf5!");case 8:if(!h){e.next=15;break}return e.next=11,x.doc("userInfo/".concat(c.uid)).update({following:v.FieldValue.arrayRemove("".concat(t))});case 11:return e.next=13,x.doc("userInfo/".concat(t)).update({follower:v.FieldValue.arrayRemove("".concat(c.uid))});case 13:f(!1),alert("\ud314\ub85c\uc6b0 \ud574\uc81c!");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)(g.Fragment,{children:o?Object(g.jsxs)("div",{className:"profile_top",children:[Object(g.jsxs)("div",{className:"profile_top_top",children:[_&&Object(g.jsx)("div",{className:"edit_profile_modal_wrapper",children:Object(g.jsx)("div",{className:"edit_profile_modal",ref:N,children:Object(g.jsx)(Ye,{userObj:c,refreshUser:a,setEdit:w,stateMessage:o.stateMsg&&o.stateMsg})})}),Object(g.jsxs)("div",{className:"profile_img_wrapper1",children:[Object(g.jsx)("div",{className:"profile_img_wrapper",children:Object(g.jsx)("div",{className:"profile_img_circle",children:Object(g.jsx)("a",{href:o.photoUrl,target:"_blank",rel:"noopener noreferrer",children:Object(g.jsx)("img",{className:"profile_image",src:o.photoUrl,alt:"profile_image"})})})}),Object(g.jsx)("div",{className:"profile_background_img_wrapper",children:o.background?Object(g.jsx)("a",{href:o.background,target:"_blank",rel:"noopener noreferrer",children:Object(g.jsx)("img",{className:"profile_background_img",src:o.background,alt:"backImg"})}):null})]})]}),Object(g.jsxs)("div",{className:"profile_top_bottom",children:[Object(g.jsx)("div",{className:"profile_edit_wrapper",children:r?Object(g.jsx)("div",{className:"profile_edit",children:Object(g.jsx)("span",{onClick:function(){w(!0)},children:"\ud504\ub85c\ud544 \uc218\uc815"})}):Object(g.jsx)("div",{className:"profile_following",children:h?Object(g.jsx)("span",{onClick:y,className:"profile_following_true",children:"\ud314\ub85c\uc6b0 \ud574\uc81c"}):Object(g.jsx)("span",{onClick:y,className:"profile_following_false",children:"\ud314\ub85c\uc789"})})}),Object(g.jsxs)("div",{className:"profile_info_name",children:[Object(g.jsx)("span",{className:"profile_info_nickname",children:o.displayName}),o.email&&Object(g.jsxs)("span",{className:"profile_info_id",children:["@",o.email.split("@")[0]]})]}),Object(g.jsx)("div",{className:"profile_info_state",children:Object(g.jsx)("span",{children:o.stateMsg})}),Object(g.jsxs)("div",{className:"profile_info_following_wrapper",children:[Object(g.jsx)("span",{className:"profile_info_follow_number",children:o.following.length}),Object(g.jsx)("span",{className:"profile_info_follow",children:"\ud314\ub85c\uc6b0\uc911"}),Object(g.jsx)("span",{className:"profile_info_follow_number",children:o.follower.length}),Object(g.jsx)("span",{children:"\ud314\ub85c\uc6cc"})]})]})]}):null})},Xe=function(e){var t=e.userIdPath,c=e.userObj,r=Object(n.useState)([]),a=Object(i.a)(r,2),s=a[0],l=a[1],o=Object(n.useState)([]),j=Object(i.a)(o,2),u=j[0],b=j[1],O=Object(n.useState)([]),h=Object(i.a)(O,2),f=h[0],m=h[1],p=Object(n.useState)([]),_=Object(i.a)(p,2),v=_[0],w=_[1],N=Object(n.useState)({nweet:!0,nweetComment:!1,media:!1,like:!1}),y=Object(i.a)(N,2),k=y[0],I=y[1],S=Object(n.useState)(!1),E=Object(i.a)(S,2),C=E[0],U=E[1];Object(n.useEffect)((function(){return t&&(x.collection("nweets").where("createrId","==",t).where("docId","==",!1).orderBy("createdAt","desc").limit(5).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));l(t)})),x.collection("nweets").where("createrId","==",t).orderBy("createdAt","desc").limit(5).onSnapshot((function(e){if(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));b(t),C||U(!0)}})),x.collection("nweets").where("createrId","==",t).where("attachmentUrl","!=","").orderBy("attachmentUrl","desc").orderBy("createdAt","desc").limit(5).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));m(t)})),x.collection("nweets").where("like","array-contains",t).orderBy("createdAt","desc").limit(5).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));w(t)}))),function(){var e=x.collection("nweets").where("createrId","==",t).where("docId","==",!1).orderBy("createdAt","desc").limit(5).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));l(t)})),c=x.collection("nweets").where("createrId","==",t).orderBy("createdAt","desc").limit(5).onSnapshot((function(e){if(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));b(t),C||U(!0)}})),n=x.collection("nweets").where("createrId","==",t).where("attachmentUrl","!=","").orderBy("attachmentUrl","desc").orderBy("createdAt","desc").limit(5).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));m(t)})),r=x.collection("nweets").where("like","array-contains",t).orderBy("createdAt","desc").limit(5).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));w(t)}));e(),c(),n(),r(),I((function(e){return Object(d.a)({},e)}))}}),[C,t]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{onClick:function(e){switch(e.target.innerText){case"\ud2b8\uc717":I({nweet:!0,nweetComment:!1,media:!1,like:!1});break;case"\ud2b8\uc717 \ubc0f \ub2f5\uae00":I({nweet:!1,nweetComment:!0,media:!1,like:!1});break;case"\ubbf8\ub514\uc5b4":I({nweet:!1,nweetComment:!1,media:!0,like:!1});break;case"\ub9c8\uc74c\uc5d0 \ub4e4\uc5b4\uc694":I({nweet:!1,nweetComment:!1,media:!1,like:!0});break;default:I({nweet:!0,nweetComment:!1,media:!1,like:!1})}},className:"profile_menu_bar",children:[Object(g.jsx)("span",{className:k.nweet?"click_on":"click_off",children:"\ud2b8\uc717"}),Object(g.jsx)("span",{className:k.nweetComment?"click_on":"click_off",children:"\ud2b8\uc717 \ubc0f \ub2f5\uae00"}),Object(g.jsx)("span",{className:k.media?"click_on":"click_off",children:"\ubbf8\ub514\uc5b4"}),Object(g.jsx)("span",{className:k.like?"click_on":"click_off",children:"\ub9c8\uc74c\uc5d0 \ub4e4\uc5b4\uc694"})]}),C?Object(g.jsxs)(g.Fragment,{children:[k.nweet&&s.map((function(e){return Object(g.jsx)(oe,{nweetObj:e,userObj:c,isOwner:e.createrId===c.uid},e.id)})),k.nweetComment&&u.map((function(e){return Object(g.jsx)(oe,{nweetObj:e,userObj:c,isOwner:e.createrId===c.uid},e.id)})),k.media&&f.map((function(e){return Object(g.jsx)(oe,{nweetObj:e,userObj:c,isOwner:e.createrId===c.uid},e.id)})),k.like&&v.map((function(e){return Object(g.jsx)(oe,{nweetObj:e,userObj:c,isOwner:e.createrId===c.uid},e.id)}))]}):Object(g.jsx)("div",{children:"\ub85c\ub529\uc911"})]})},Ze=function(e){var t=e.match,c=e.userObj,r=e.refreshUser,a=Object(n.useState)(""),s=Object(i.a)(a,2),l=s[0],o=s[1];return console.log("\uc720\uc800\ud398\uc774\uc9c0 \ub80c\ub354\ub9c1 \ub428"),Object(n.useEffect)((function(){if(t.params.id){var e=t.params.id;o(e)}}),[t.params.id]),Object(g.jsxs)("div",{className:"profile",children:[Object(g.jsx)(Qe,{userIdPath:l,userObj:c,isMyProfile:l===c.uid,refreshUser:r}),Object(g.jsx)("div",{className:"profile_bottom",children:Object(g.jsx)(Xe,{userIdPath:l,userObj:c})})]})},$e=(c(64),function(e){var t=e.detailNweet,c=e.match,r=e.userObj,a=e.setCopyed,s=Object(n.useState)({kebab:!1,share:!1}),l=Object(i.a)(s,2),j=l[0],O=l[1],h=Object(n.useState)(""),f=Object(i.a)(h,2),m=f[0],p=f[1],_=Object(n.useState)(!1),w=Object(i.a)(_,2),N=w[0],y=w[1],k=Object(n.useState)(!1),I=Object(i.a)(k,2),S=I[0],E=I[1],C=Object(o.g)(),U=Object(n.useRef)(null);Object(n.useEffect)((function(){t.like&&(t.like.includes(r.uid)&&y(!0));t.reNweet&&(t.reNweet.includes(r.uid)&&E(!0));if(t.userEmail){var e=t.userEmail.split("@");p(e[0])}}),[t]);var P=function(){if(c.params.id){var e=c.params.id;C.push("/user/".concat(e))}},M=function(){var e=Object(b.a)(u.a.mark((function e(c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.stopPropagation(),!t.reNweet.includes(r.uid,0)){e.next=6;break}return e.next=4,x.doc("nweets/".concat(t.id)).update({reNweet:v.FieldValue.arrayRemove("".concat(r.uid))});case 4:return E(!1),e.abrupt("return");case 6:return e.next=8,x.doc("nweets/".concat(t.id)).update({reNweet:v.FieldValue.arrayUnion("".concat(r.uid))});case 8:E(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(u.a.mark((function e(c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.stopPropagation(),!t.like.includes(r.uid,0)){e.next=6;break}return e.next=4,x.doc("nweets/".concat(t.id)).update({like:v.FieldValue.arrayRemove("".concat(r.uid))});case 4:return y(!1),e.abrupt("return");case 6:return e.next=8,x.doc("nweets/".concat(t.id)).update({like:v.FieldValue.arrayUnion("".concat(r.uid))});case 8:y(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"detail_nweet",children:[Object(g.jsxs)("div",{className:"detail_nweet_top",children:[Object(g.jsx)("div",{className:"detail_nweet_profile",onClick:P,children:Object(g.jsx)("img",{src:t.profile,alt:"profile_img"})}),Object(g.jsxs)("div",{className:"detail_nweet_userInfo",onClick:P,children:[Object(g.jsx)("span",{className:"detail_nweet_nick",children:t.displayName}),Object(g.jsxs)("span",{className:"detail_nweet_userId",children:["@",m]})]})]}),Object(g.jsxs)("div",{className:"detail_nweet_bot",children:[Object(g.jsxs)("div",{className:"detail_nweet_content",children:[Object(g.jsx)("div",{className:"detail_nweet_text",children:Object(g.jsx)("span",{children:t.text})}),t.hashTag&&Object(g.jsx)("span",{className:"detail_nweet_hashtag",children:t.hashTag}),t.attachmentUrl&&Object(g.jsx)("div",{className:"detail_nweet_img",children:Object(g.jsx)("a",{href:t.attachmentUrl,target:"_blank",rel:"noopener noreferrer",children:Object(g.jsx)("img",{src:t.attachmentUrl,alt:"attach"})})}),Object(g.jsx)("div",{className:"detail_nweet_createdAt",children:t.createdAt&&Object(g.jsx)("span",{children:"".concat(t.createdAt[4],"\uc2dc ").concat(t.createdAt[5],"\ubd84 . ").concat(t.createdAt[1],"\ub144 ").concat(t.createdAt[2],"\uc6d4 ").concat(t.createdAt[3],"\uc77c")})})]}),t.like&&t.like.length>0&&Object(g.jsxs)("div",{className:"detail_nweet_liked",children:[Object(g.jsx)("span",{className:"detail_nweet_like_length",children:t.like.length}),Object(g.jsx)("span",{className:"detail_nweet_liked_text",children:" \ub9c8\uc74c\uc5d0 \ub4e4\uc5b4\uc694"})]}),Object(g.jsxs)("div",{className:"detail_nweet_btns",children:[Object(g.jsx)("div",{className:"nweet_right_bottom_reNweet nweet_icon_menus detail",onClick:M,children:S?Object(g.jsx)(z,{}):Object(g.jsx)(D,{})}),Object(g.jsx)("div",{className:"nweet_right_bottom_like nweet_icon_menus detail",onClick:R,children:N?Object(g.jsx)(K,{}):Object(g.jsx)(ee,{})}),Object(g.jsxs)("div",{className:"nweet_right_bottom_share nweet_icon_menus detail","data-clipboard-text":"loevray.github.io/nwitter/".concat(window.location.hash),onClick:function(e){e.stopPropagation(),"SPAN"===e.target.nodeName?O((function(e){return Object(d.a)(Object(d.a)({},e),{},{kebab:!0,share:!1})})):O((function(e){return Object(d.a)(Object(d.a)({},e),{},{kebab:!1,share:!0})}))},children:[Object(g.jsx)(se,{}),j.share&&Object(g.jsx)(le,{menuData:[{text:"\ud2b8\uc717 \ub9c1\ud06c \ubcf5\uc0ac\ud558\uae30",onClick:function(){navigator.clipboard.writeText("loevray.github.io/nwitter/#/user/".concat(t.createrId,"/detail/").concat(t.id)).then((function(){a((function(e){return!e})),console.log("succes"),O((function(e){return Object(d.a)(Object(d.a)({},e),{},{kebab:!1,share:!1})})),U.current=setTimeout((function(){a(!1)}),3500)}))},id:5},{text:"\ub2e4\uc74c\uc744 \ud1b5\ud574 \ud2b8\uc717 \uacf5\uc720\ud558\uae30",id:6}],setMenuOn:O})]})]})]})]})})}),et=function(e){var t=e.match,c=e.userObj,r=Object(n.useState)([]),a=Object(i.a)(r,2),s=a[0],l=a[1],o=Object(n.useState)([]),j=Object(i.a)(o,2),u=j[0],b=j[1],O=Object(n.useState)(!1),h=Object(i.a)(O,2),f=h[0],m=h[1];return Object(n.useEffect)((function(){if(t.params){var e=t.params.postId;x.collection("nweets").doc("".concat(e)).onSnapshot((function(e){e||console.log("\ub370\uc774\ud130 \uc5c6\uc74c");var t=Object(d.a)({id:e.id},e.data());l(t)})),x.collection("nweets").where("docId","==","".concat(t.params.postId)).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));t&&b(t)}))}}),[t]),Object(g.jsx)("div",{className:"home_center",children:Object(g.jsxs)("div",{className:"home_center_wrapper",children:[Object(g.jsx)("div",{className:"home_center_homebar_wrapper",children:Object(g.jsx)("div",{className:"home_center_homebar",children:Object(g.jsx)("div",{className:"search_bar",children:Object(g.jsx)("span",{children:"\ud2b8\uc717"})})})}),Object(g.jsx)($e,{detailNweet:s,match:t,userObj:c,setCopyed:m}),Object(g.jsxs)("div",{className:"home_center_nweet_wrapper",children:[Object(g.jsx)("div",{className:"home_center_nweet_profile_img",children:Object(g.jsx)("img",{src:c.photoURL,alt:"img"})}),Object(g.jsx)(N,{userObj:c,depthRef:s.depth,docId:t.params.postId,commentUserId:s.userEmail&&s.userEmail.split("@"),commentUserUid:s.createrId})]}),Object(g.jsxs)("div",{className:"home_center_bottom",children:[u.length>0&&u.map((function(e){return Object(g.jsx)(oe,{nweetObj:e,isOwner:e.createrId===c.uid,userObj:c,setCopyed:m},e.id)})),f&&Object(g.jsx)("div",{className:"home_copy_message",children:Object(g.jsx)("span",{children:"\ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac\ud568"})})]})]})})},tt=function(e){var t=e.refreshUser,c=e.isLoggedIn,n=e.userObj;return Object(g.jsx)(l.a,{children:Object(g.jsx)(o.d,{children:c?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(o.b,{render:function(e){return Object(g.jsx)(De,{location:e.location,userObj:n})}}),Object(g.jsx)(o.b,{exact:!0,path:"/",children:Object(g.jsx)(o.a,{to:"/home"})}),Object(g.jsx)(o.b,{exact:!0,path:"/home",children:Object(g.jsx)(je,{userObj:n})}),Object(g.jsx)(o.b,{exact:!0,path:"/user/:id",render:function(e){return Object(g.jsx)(Ze,{userObj:n,match:e.match,refreshUser:t})}}),Object(g.jsx)(o.b,{exact:!0,path:"/user/:id/detail/:postId",render:function(e){return Object(g.jsx)(et,{match:e.match,userObj:n})}}),Object(g.jsx)(o.b,{exact:!0,path:"/search/:value",render:function(e){return Object(g.jsx)(Ke,{userObj:n,match:e.match})}}),Object(g.jsx)(o.b,{children:Object(g.jsx)(Je,{})})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(o.b,{path:"*",children:Object(g.jsx)(me,{userObj:n,isLoggedIn:c,refreshUser:t})})})})})},ct=(c(65),c(36)),nt=c(24),rt=c(37),at=Object(nt.a)(Ve||(Ve=Object(ct.a)(["\n",";\n"])),rt.a),st=(c(66),function(){return Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("span",{children:"\ub370\uc774\ud130 \ub85c\ub4dc\uc911..."})})});var it=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(null),s=Object(i.a)(a,2),l=s[0],o=s[1];return Object(n.useEffect)((function(){p.onAuthStateChanged((function(e){o(e?{displayName:e.displayName,uid:e.uid,email:e.email,photoURL:e.photoURL,creationTime:e.metadata.creationTime,updateProfile:function(t){return e.updateProfile(t)}}:null),r(!0)}))}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(at,{}),c?Object(g.jsx)(tt,{refreshUser:function(){var e=p.currentUser;o({displayName:e.displayName,uid:e.uid,email:e.email,photoURL:e.photoURL,creationTime:e.metadata.creationTime,updateProfile:function(t){return e.updateProfile(t)}})},isLoggedIn:Boolean(l),userObj:l}):Object(g.jsx)(st,{})]})};s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(it,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.c7bb15c8.chunk.js.map